---
index: 1
icon: creative
title: Domain 1. Design Resilient Architectures
category: aws
editLink: false
---
영역 1: 복원력을 갖춘 아키텍처 설계
## Multi-tier Solutions / 멀티 티어 아키텍처 솔루션 설계

* 액세스 패턴을 기반으로 솔루션 설계를 결정합니다. : 
    * 누가, 무엇을 특정 아키텍처에 액세스해야 하는지, 그리고 어떻게 액세스할지에 대한 설계를 의미합니다. 연결과 요청이 어디에서 오는지 생각해야 합니다.
    * 아키텍처 빌드는 공개 웹 애플리케이션(공개 인터넷을 통해 제공되는 액세스)과 가상 사설망 또는 VPN을 통한 온프레미스 사용자 액세스에서만 이루어진 요청 등에 따라 변경될 수 있습니다.
    * 액세스 패턴이 시간 및 날마다 어떻게 보이는지 고려해야 한다. 안정적인 연결이 있습니까? 아니면 고려해야 할 피크가 있습니까?, 요청의 크기가 다양합니까? 아니면 상당히 일관성이 있습니까? 예상치 못한 대량의 트래픽에 대비해야 합니까? 액세스 패턴은 아키텍처를 설계하고 업데이트하는 방법을 결정하는 데 큰 역할을 합니다.

* 설계에 사용되는 구성 요소에 대한 조정 전략을 결정합니다.
    * 트래픽 패턴의 변화에 ​​대해 말하면 확장이 필요합니다. 보다 구체적으로, 디자인 구성 요소에 대한 확장 전략을 어떻게 고려하고 결정해야 하는지에 대해 설명합니다. 
    * 이 영역을 연구할 때 다중 계층 아키텍처의 각 수준에서 확장이 발생할 수 있는 방법과 수평 및 수직 확장 방법을 모두 사용할 수 있는지 고려하십시오. 스케일링을 구현하는 방법, 다양한 서비스가 탄력성을 처리하는 방법, 스케일링 요구를 자동화하는 방법을 고려하십시오. 또한 이러한 고려 사항에 서비스 제한 사항을 포함합니다. 동시에 배포할 수 있는 인스턴스 또는 VPC의 수와 같은 제한은 환경의 확장을 계속하는 기능을 빠르게 중지할 수 있습니다.
* 요구 사항에 따라 적절한 데이터베이스를 선택합니다. 
    * Amazon Relational Database Service 또는 Amazon DynamoDB와 같은 관리형 서비스를 활용하는 것과 비교하여 인스턴스에서 자체 데이터베이스를 구축할 계획은 언제입니까? 
    * 다양한 인스턴스 패밀리는 실행할 서버와 배포 방법에 어떤 영향을 미칩니까?
* 요구 사항에 따라 적절한 컴퓨팅 및 스토리지 서비스를 선택합니다. 
    * 언제 Amazon Elastic Block Store보다 인스턴스 기반 스토리지를 선택하시겠습니까? 
    * Amazon Simple Storage Service와 Amazon S3 Glacier 중에서 선택하는 것은 어떻습니까?



## Multi-tier Solutions: Question Walkthrough

 회사는 여러 Amazon EC2 Linux 인스턴스를 사용하여 애플리케이션을 설계하고 있습니다. 고성능 컴퓨팅 애플리케이션에는 인스턴스 간의 짧은 지연 시간과 고성능 네트워크 통신이 필요합니다. 인스턴스 간에 가장 짧은 지연 시간을 제공하는 솔루션은 무엇입니까? 
 
    A. Launch the EC2 instances in a cluster placement group(클러스터 배치 그룹에서 EC2 인스턴스 시작입니다.)
    B. Launch the EC2 instances in a spread placement group(분산형 배치 그룹에서 EC2 인스턴스를 시작합니다.)
    C. Launch the EC2 instances in an Auto Scaling group spanning multiple Regions(여러 리전에 걸쳐 있는 Auto Scaling 그룹에서 EC2 인스턴스를 시작합니다.)
    D. Launch the EC2 instances in an Auto Scaling group spanning multiple Availability Zones within a Region(한 리전 내의 여러 가용 영역에 걸쳐 있는 Auto Scaling 그룹에서 EC2 인스턴스를 시작합니다.)

    문제는 HPC 애플리케이션 환경에서 인스턴스 간에 가장 짧은 지연 시간을 제공하는 솔루션을 찾고 있습니다.  솔루션은 1. 대기 시간이 가장 짧아야 하고 2. HPC 빌드에서 사용할 수 있어야 합니다. 
  

    A. 인스턴스를 클러스터 배치 그룹에 배치하는 것이 좋습니다. 이러한 스타일의 배치 그룹은 대기 시간이 짧은 네트워크 성능을 위해 물리적으로 서로 가까이 있는 인스턴스를 시작하도록 특별히 설계되었다는 점을 감안하면  훌륭한 답입니다.
    B. 인스턴스를 스프레드 배치 그룹으로 시작할 것을 제안합니다. 스프레드 스타일 배치 그룹이 대기 시간을 줄이지 않고 가용성을 위해 설계되었음을 알면 이것은 A보다 낫지 않습니다.
    C,D. 다음 두 응답은 비슷합니다. 둘 다 Auto Scaling 그룹 사용을 제안하지만 C는 여러 리전에서 그룹을 시작하라고 말하고 D는 단일 리전 내에 있지만 가용 영역에 걸쳐 유지하라고 말합니다. 둘 다 응답 A보다 대기 시간이 더 길기 때문에 이것이 잘못된 것임을 알고 있습니다. 또한 응답 C는 불가능합니다. Auto Scaling 그룹은 여러 가용 영역에 걸쳐 있을 수 있지만 여러 리전에 걸쳐 있을 수는 없습니다.
  
   따라서 응답 A가 답입니다.

```note
한 가용영역! 
새 EC2 인스턴스를 시작하면 EC2 서비스는 모든 인스턴스가 기본 하드웨어 전반에 분산되도록 하여 상호 관련 오류의 위험을 줄입니다. 워크로드 요구 사항을 충족하기 위해 배치 그룹을 사용하여 상호 의존적 인스턴스 그룹의 배치에 영향을 줄 수 있습니다. 워크로드의 유형에 따라 다음 배치 전략 중 하나를 사용하여 배치 그룹을 생성할 수 있습니다.


클러스터 – 인스턴스를 가용 영역 안에 서로 근접하게 패킹합니다. 이 전략은 워크로드가 HPC 애플리케이션에서 일반적인 긴밀히 결합된 노드 간 통신에 필요한 낮은 지연 시간의 네트워크 성능을 달성할 수 있습니다. 자세한 정보는 클러스터 배치 그룹을 참조하십시오.

파티션 – 인스턴스를 논리적 파티션에 분산해, 한 파티션에 있는 인스턴스 그룹이 다른 파티션의 인스턴스 그룹과 기본 하드웨어를 공유하지 않게 합니다. 이 전략은 일반적으로 Hadoop, Cassandra, Kafka 등 대규모의 분산 및 복제된 워크로드에 필요합니다. 자세한 정보는 파티션 배치 그룹을 참조하십시오.

분산형(Spread ) – 소규모의 인스턴스 그룹을 다른 기본 하드웨어로 분산하여 상호 관련 오류를 줄입니다. 자세한 정보는 분산형 배치 그룹을 참조하십시오.
```
[참고링크](https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/placement-groups.html)

## High Availability and Fault Tolerance

고가용성 및 내결함성 아키텍처와 관련하여 초점을 맞춰야 할 여러 영역이 있지만 먼저 내결함성과 고가용성 아키텍처의 차이점을 이해해야 합니다.

이 둘은 일부 중복되는 부분을 공유하지만 정의가 약간 다릅니다. 고가용성과 내결함성 간에는 차이가 있지만 상호 배타적이지는 않습니다.
* 고가용성을 위한 설계(Designing for high availability):  
==가동 중지 시간을 최소화하는 설계를 의미한다.== 이 스타일은 구성 요소나 응용 프로그램이 실패할 때 필수 서비스의 복원을 우선적으로 처리하여 최종 사용자에게 미치는 부정적인 영향을 줄이는 데 중점을 둡니다.
* 내결함성을 위한 설계(designing for fault tolerance):   
 ==다운타임과 서비스 중단이 필요하지 않은(없는) 아키텍처를 갖는 것을 의미합니다.== 일반적으로 훨씬 더 많은 복제 및 중복으로 인해 더 높은 비용을 의미합니다. 또한 데이터 복제 및 구성 요소 중복 관리로 인해 훨씬 ​​더 복잡해집니다. 
 

* 가용 영역 전반에 내결함성 아키텍처를 제공하는 데 필요한 리소스의 양을 결정합니다.
    *  어떤 자원이 필요한지 평가하기 위해서는 많은 생각과 계획이 필요합니다. 여기에는 서버 및 데이터베이스와 같은 일반 운영 구성 요소의 중복성과 AWS 글로벌 인프라의 사용이 포함됩니다. 
    *  여기에는 데이터 복제, 트래픽 관리, 장애 감지 및 고가용성 또는 내결함성 아키텍처에 필요한 모든 것을 처리하는 데 필요한 구성 요소도 포함됩니다
 

* 단일 장애 지점을 완화하는 고가용성 구성을 선택합니다.
    * 단일 장애 지점을 결정하려고 할 때 종종 실패에서 거꾸로 작업하는 것을 생각하는 것이 도움이 됩니다. 
    * 이것이 의미하는 바는 환경을 볼 때 각 구성 요소를 가져와 해당 구성 요소가 실패할 때 어떤 일이 발생하는지 평가한다는 것입니다. 
    * 웹 서버 중 하나에 장애가 발생하면 어떻게 됩니까? 애플리케이션 서버 중 하나가 다운되면 어떻게 합니까? 데이터베이스는 어떻습니까? 이러한 실패를 평가한 다음 완화 방법을 결정하십시오.


* 애플리케이션을 변경할 수 없는 경우 레거시 애플리케이션의 안정성을 개선하는 AWS서비스를 적용합니다.
    * 리소스 양을 결정하는 것 외에도 아키텍처의 안정성을 개선하기 위해 사용할 수 있는 AWS 서비스를 평가해야 합니다. 이는 구성 요소 마이그레이션이 불가능한 레거시 애플리케이션에서 특히 중요합니다.
    * 구성 요소 또는 애플리케이션을 AWS에서 실행할 수 없거나 데이터 복제와 같은 서비스가 사용 사례에 적합하지 않은 이유가 있는 경우 안정성 요구 사항을 충족하는 방법을 알아야 합니다.

* 비즈니스 요구 사항을 충족하는 데 적절한 재해 복구 전략을 선택합니다.
    * 복구 시간 목표와 복구 지점 목표, 즉 RTO와 RPO를 각각 평가하고 이를 사용하면 어떤 전략이 가장 효과적인지 결정하는 데 도움이 됩니다.
    * 전략의 관점에서 액티브/패시브 및 액티브/액티브 모두 비즈니스 요구 사항을 충족하는 데 도움이 되므로 살펴보십시오.
    * 액티브/패시브의 경우 backup and restore(백업,복원), pilot light, and warm standby solutions
    * 액티브/액티브의 경우 다중 사이트 활성/활성 배포 스타일(multi-site active/active deployment style.)을 살펴보십시오.
    * 이들의 강점과 RPO 및 RTO 요구 사항에 미치는 영향을 이해해야 합니다. 
```note
RTO 와 RPO, 
RTO(복구 시간 목표) 조직에서 정의합니다. RTO는 서비스 중단 시점과 서비스 복원 시점 간에 허용되는 최대 지연 시간으로, 서비스를 사용할 수 없는 상태로 허용되는 기간을 결정합니다.

RPO(복구 시점 목표) 조직에서 정의합니다. RPO는 마지막 데이터 복구 시점 이후 허용되는 최대 시간으로, 마지막 복구 시점과 서비스 중단 시점 사이에 허용되는 데이터 손실량을 결정합니다.
```

* 솔루션의 고가용성을 보장하는 주요 성능 지표를 식별합니다. 
    * 고가용성 및 내결함성을 수동으로 처리하는 것은 거의 불가능합니다. 그러나 작업을 자동화하려면 사용해야 하는 트리거와 이러한 트리거를 시작하는 표시기를 알아야 합니다. 
    * 어떤 핵심 성과 지표(KPI)가 아키텍처 상태에 대한 최상의 가시성을 제공하는지 이해하는 것은 조치를 취해야 할 시기를 결정하는 데 중요합니다. 
    * 모니터링과 벤치마킹은 정상 운영이 어떤 것인지 알 수 있는 주요 방법이며 재해 복구 계획에서 활용할 수 있는 정상 범위의 그림을 제공합니다.


 환경 및 아키텍처의 요구 사항 평가, 고가용성 및 내결함성 구현 방법 평가, 재해 복구 전략 구현 방법 및 시기 결정이 이 섹션의 주요 주제를 구성합니다. 그리고 주로 서비스에 국한되지는 않지만 이러한 개념과 조직의 요구 사항에 따라 다양한 환경에서 이를 구현하는 방법을 이해하는 것이 중요합니다. 


 ## High Availability and Fault Tolerance: Question Walkthrough
 
  솔루션 설계자는 회사의 비즈니스 크리티컬 애플리케이션을 위한 재해 복구 솔루션을 만들어야 합니다. DR 사이트는 기본 사이트와 다른 AWS 리전에 있어야 합니다. 이 솔루션에는 몇 초 단위의 복구 지점 목표와 분 단위의 복구 시간 목표가 필요합니다. 이 솔루션은 또한 완벽하게 작동하지만 축소된 버전의 애플리케이션을 배포해야 합니다. 어떤 DR 전략이 이러한 요구 사항을 충족합니까? 
  
   A. Multi-site active-active B. Backup and restore C. Pilot light D. Warm standby

    질문에서 충족하려는 요구 사항은 다음과 같습니다. 1. DR 사이트는 다른 AWS 리전에 있어야 하고 2. RPO는 몇 초 이내여야 하고, RTO는 몇 분 이내여야 하고 3. 솔루션은 완전히 작동하지만 축소된 버전의 응용 프로그램.
  

    A. 이 DR 전략은 다른 지역에 있어야 하는 요구 사항을 충족하며 RPO 및 RTO 요구 사항을 충족하는 데 문제가 없습니다. 문제는 규모 축소에 대한 명시된 요구 사항이 있으며 이 전략에는 DR 사이트가 기본 사이트와 동일한 수준에 있어야 한다는 것입니다. 
    B,C. 이 두개의 답안은 그 중 하나가 RPO 및 RTO 요구 사항을 충족할 가능성이 있지만 둘 다 축소된 버전의 애플리케이션이 있는 완전한 기능의 DR 사이트를 포함하지 않기 때문에 올바르지 않습니다.
    D. 응답 A와 유사하게 이것은 다른 지역에 있어야 하는 요구 사항을 충족하고 복구 시간 및 복구 지점 목표를 충족할 수 있습니다. 이것은 설계상 올바르게 작동하면서도 기본 사이트의 축소 버전을 배포하는 것이 가능합니다.
  
   보시다시피 다양한 재해 복구 전략의 사용과 기능을 이해하면 구현 방법과 다양한 요구 사항을 충족하는 방법을 볼 수 있는 지식을 얻을 수 있습니다. 
   
    [참고링크](https://aws.amazon.com/blogs/architecture/disaster-recovery-dr-architecture-on-aws-part-i-strategies-for-recovery-in-the-cloud/)
 ## Decoupling Mechanisms(결합 해제 메커니즘 설계) 

 Decoupling은 더 큰 시스템의 일부로 작업을 완료할 때 자율적으로 남아 있고 서로를 인식하지 못하는 구성 요소를 나타냅니다. 이것은 간단한 응용 프로그램 내에서 구성 요소를 설명하는 데 사용되거나 훨씬 더 큰 규모로 적용될 수 있습니다.

 또한 동기 및 비동기 통합이라는 두 가지 분리 기술을 이해하고 구별할 수 있다는 것이 중요합니다. 동기식 디커플링은 일반적으로 적어도 두 개의 구성 요소를 포함하며, 제대로 작동하려면 둘 다 항상 사용할 수 있어야 합니다. 예를 들어 Elastic Load Balancing을 사용하여 여러 가용 영역의 인스턴스 간에 트래픽을 분산할 수 있습니다. 인스턴스는 서로를 인식하지 못하고 서로 의존하지 않지만 이것이 제대로 작동하려면 적용 가능한 각 가용 영역에 하나 이상의 인스턴스가 있어야 합니다. 모든 인스턴스가 동일한 유형의 작업을 수행하지만 독립적으로 수행하며 일반적으로 서로 통신할 필요가 없습니다. 로드 밸런서와 인스턴스가 모두 실행되는 한 기능은 예상대로 계속됩니다. 
 
 비동기식 디커플링을 사용하면 구성 요소와 제자리에 있는 메커니즘 사이에 누화가 발생하므로 하나가 중단되더라도 구성 요소 간의 통신이 계속 이루어질 수 있습니다. 인스턴스가 모두 메시지를 처리하고 인스턴스 간의 메시징을 처리하는 Amazon Simple Queue Service와 같은 대기열이 있는 아키텍처를 예로 들 수 있습니다. 인스턴스 중 하나가 오프라인이 되는 경우 인스턴스가 메시지를 검색할 수 있을 때까지 메시지가 지속됩니다.

* 구성 요소의 소결합을 달성하기 위해 활용할 수 있는 AWS 서비스를 결정합니다.
    * 솔루션이 아키텍처에 대한 디커플링을 추가하거나 개선하기 위한 서비스 구현을 포함하는 많은 시나리오를 접하게 됩니다. 디커플링 서비스를 활용하는 방법을 아는 것은 매우 중요합니다.
    * 앞에서 설명한 ELB와 같은 도구를 사용하거나 Amazon EventBridge를 사용하여 더 복잡한 빌드를 처리하는 것은 중요합니다.
* 결합 해제를 활성화하기 위해 서버리스 기술을 활용할 시기를 결정합니다.
    * 서버리스 툴킷 내에서 SQS, Amazon API Gateway, Amazon DynamoDB 및 기타 여러 서비스를 배포할 수 있는 방법은 무엇입니까? 이러한 도구를 구현하는 방법을 이해하면 아키텍처에 유연성과 분리 기능을 구축하는 데 도움이 될 뿐만 아니라 어떤 응답이 효과가 있고 가장 잘 작동할지 결정하는 데 크게 도움이 됩니다.

 교과서적인 정의와 디커플링 방법론만 아는건 안된다. 서버리스 및 디커플링 서비스를 사용하여 아키텍처와 시험에 제시된 시나리오의 기능을 구축하고 개선하는 방법을 배우는 것이 중요합니다. 질문에서 요구 사항을 평가하고 서비스 작동 방식을 이해함으로써 직면하는 다양한 구현에 가장 적합한 것이 무엇인지 파악하십시오.

## Decoupling Mechanisms: Question Walkthrough

 한 회사가 온프레미스 애플리케이션을 Amazon Web Services로 마이그레이션하고 설계를 리팩토링하고 있습니다. 설계는 요청을 수신하는 프론트엔드 Amazon EC2 인스턴스, 요청을 처리하는 백엔드 EC2 인스턴스, 애플리케이션 분리를 해결하기 위한 메시지 큐 서비스로 구성됩니다. 솔루션 설계자는 애플리케이션의 주요 측면이 요청이 수신된 순서대로 처리된다는 정보를 받았습니다. 솔루션 설계자는 애플리케이션을 분리하기 위해 어떤 AWS 서비스를 사용해야 합니까?

A, Amazon Simple Queue Service standard queue. 
B, Amazon Simple Notification Service. 
C, Amazon Simple Queue Service FIFO queue.
D, Amazon Kinesis


 설계에 따르면 1) 아키텍처는 요청을 수신하는 프론트엔드 인스턴스와 요청을 처리하는 백엔드 인스턴스로 구성되며 솔루션의 요구 사항은 메시지 순서를 유지하는 것입니다. 2) 요청은 애플리케이션 분리를 처리하고 요구 사항을 충족하기 위해 메시지 대기열 서비스를 선택하기 위한 것입니다.


A는 SQS 표준 큐 이것은 실제로 매우 좋게 들립니다. 큐는 메시지 지속성을 처리하고 프론트 및 백엔드 인스턴스는 필요에 따라 큐에 넣고 풀 수 있습니다. 그러나 문제는 문제에 명시된 메시지 순서 요구 사항을 충족하지 않는다는 것입니다.  
B는 큐 요구를 처리하기 위해 SNS를 사용할 것을 제안합니다. 예, 이것은 한 계층에서 다음 계층으로 이동하는 메시지를 처리할 수 있지만 SQS 표준 대기열과 비교할 때 이를 부족한 솔루션으로 만드는 몇 가지 사항이 있습니다. 가장 먼저 떠오르는 것은 SNS가 메시지 전달을 보장하지 않는다는 것입니다. 두 번째는 SNS가 메시지 순서를 보장하지 않는다는 것입니다. 그리고 이 솔루션의 세 번째 문제이자 저에게 가장 큰 문제는 SNS가 대기열이 아니며 메시지 지속성이 없다는 것입니다. 메시지가 전송되고 올바른 순서로 전달되더라도 인스턴스가 다운되어 메시지가 손실될 수 있습니다. 
C는 SQS를 다시 제안하지만 이번에는 FIFO 또는 선입선출 대기열의 사용을 권장합니다. 이것은 표준 대기열이 원래 매력적인 선택이었지만 메시지 순서를 유지 관리해야 하는 요구 사항을 충족하는 모든 이유에 대해 훌륭합니다. 
D는 Amazon Kinesis 사용을 권장합니다. Kinesis는 데이터 수집, 처리 및 분석에 적합하지만 스트리밍, 실시간 데이터 수집에 더 적합합니다. 여기에 제시된 사용 사례에 대한 분리 구성 요소로서 비용 및 구현은 SQS FIFO 대기열만큼 이상적이지 않습니다.

이 질문의 답은 Amazon SQS FIFO 대기열인 C입니다.

## Resilient Storage(적절한 복원력을 갖춘 스토리지 선택)

* 데이터의 내구성을 보장하는 전략을 정의합니다.
    * 다양한 스토리지 서비스가 내구성을 처리하는 방법과 각 서비스가 적합한 시나리오를 이해해야 합니다. 
    * Amazon EC2 인스턴스 스토어보다 Amazon Elastic Block Store를 사용하는 것이 더 나은 경우는 언제입니까? 
    * 어떤 상황에서 임시 스토리지가 이상적입니까? 
    * Amazon Simple Storage Service와 Amazon S3 Glacier를 서로 바꿔서 사용할 수 있습니까? 
    * 각 서비스의 데이터 내구성 관리를 이해하고 아키텍처에 대한 전략과 요구 사항을 이해하는 것이 올바른 솔루션을 찾는 데 중요합니다.
* 데이터 서비스 일관성이 애플리케이션 운영에 미치는 영향을 파악합니다.
    * 서비스에서 데이터 일관성을 처리하는 방법뿐만 아니라 서비스 호출에 영향을 미칠 수 있는 방법을 이해하는 것이 중요합니다.
    * 내구성을 위한 복제를 사용하면 호출된 호출과 호출 방식이 검색하는 데이터 유형에 영향을 줄 수 있습니다. 
    * 다양한 일관성 시나리오로 작업할 수 있는 방법을 살펴보십시오. 새로운 데이터의 PUT과 기존 데이터의 변경 사항, 최신 데이터에 가장 잘 액세스하는 방법을 살펴보십시오.
* 애플리케이션의 액세스 요구 사항을 충족하는 데이터 서비스를 선택합니다.
    * 이 영역은 서비스의 기능과 액세스 패턴 요구 사항이 해당 기능의 영향을 받는 방식을 이해하는 것이 매우 중요합니다. 
    * 읽기 작업량이 많거나 빠른 읽기 및 쓰기 기능이 필요하십니까? 
    * 글로벌 사용자 기반이 데이터에 액세스할 수 있어야 합니까, 아니면 단일 IP 범위로 제한되어 있습니까? 
    * 많은 작은 파일로 작업하거나 더 큰 개체를 이동해야 합니까? 
    * 액세스 및 기타 요구 사항은 사용할 서비스를 결정하는 데 많은 도움이 됩니다. 
* 하이브리드 또는 비클라우드 네이티브 애플리케이션과 함께 사용할 수 있는 스토리지 서비스를 식별합니다.
    * 귀하가 충족하도록 요청받을 수 있는 여러 가지 요구 사항이 있으며 이러한 요구 사항을 충족할 수 있는 서비스가 중복되는 경우가 많습니다. 
    * 데이터 마이그레이션을 고려할 때 AWS Snow 제품군 중 하나를 다른 서비스보다 선호하는 경우는 언제입니까? 
    * 온프레미스 환경과 AWS 환경 간에 일관되고 정기적인 데이터 전송이 필요할 때 어떤 서비스를 사용할 수 있습니까? 
    * 어떤 시나리오에서 다양한 AWS Storage Gateway 솔루션이 선호되며 이를 구현하기 위한 방법은 무엇입니까? 
    
    
    
## Resilient Storage: Question Walkthrough
조직이 온프레미스 데이터 센터에서 여러 가용 영역에 걸쳐 있는 AWS 환경으로 마이그레이션할 계획입니다. 마이그레이션 엔지니어는 데이터 센터에서 AWS로 홈 디렉터리 및 기타 공유 네트워크 연결 스토리지의 전송을 계획하는 임무를 받았습니다. 마이그레이션 설계는 Linux 운영 체제를 실행하는 여러 EC2 인스턴스에서 이 공통 공유 스토리지 플랫폼으로의 연결을 지원해야 합니다. 귀하의 디자인에 가장 적합한 스토리지 옵션은 무엇입니까?

A. 파일을 S3로 전송하고 EC2 인스턴스에서 해당 데이터에 액세스합니다. 
B. EC2 인스턴스에 연결된 EC2 인스턴스 스토어로 파일을 전송합니다. 
C. 파일을 Amazon EFS로 전송하고 해당 파일 시스템을 EC2 인스턴스에 탑재합니다. 
D. 파일을 하나의 EBS 볼륨으로 전송하고 해당 볼륨을 EC2 인스턴스에 탑재합니다. 

가장 적합한 스토리지 옵션을 찾고 있습니다. 요구 사항은 1) 온프레미스에서 다중 AZ AWS 환경으로의 마이그레이션, 2) 홈 디렉터리 및 네트워크 연결 스토리지의 전송이며 3) Linux OS를 실행하는 여러 인스턴스의 연결을 지원해야 합니다.  


이 질문의 답은 C입니다. EFS는 홈 디렉토리에서 비즈니스 크리티컬 애플리케이션에 이르기까지 광범위한 사용 사례를 지원하는 데 적합합니다. 수천 개의 인스턴스에 대한 대규모 병렬 공유 액세스를 제공하도록 특별히 설계되었습니다. 
A는 파일을 S3로 전송하고 인스턴스의 데이터에 액세스하도록 명시했습니다. 이 솔루션의 가장 큰 문제는 S3가 홈 디렉토리와 같은 파일 시스템을 제공하지 않는다는 것입니다.
B는 인스턴스에 연결된 인스턴스 스토리지로 파일을 전송할 것을 제안했습니다. 인스턴스 스토리지에 대해 공부했다면 그것이 일시적이라는 것을 알 것입니다. 또한 단일 인스턴스에만 연결할 수 있으며 여러 EC2 인스턴스 간에 연결하거나 이동할 수 없습니다.
D는 파일을 하나의 EBS 볼륨으로 전송하고 해당 볼륨을 EC2 인스턴스에 탑재할 것을 제안했습니다. 볼륨을 여러 인스턴스에 연결할 수 있지만 Amazon EBS 볼륨은 인스턴스용 시스템 드라이브 또는 데이터베이스 애플리케이션용 스토리지와 같이 자주 업데이트해야 하는 데이터 스토리지용으로 더 잘 설계되었습니다. 또한 단일 EBS 볼륨을 서로 다른 가용 영역의 여러 인스턴스에 탑재할 수 없습니다. 

## Design Resilient Architectures: Close

방금 완료한 섹션은 탄력적인 아키텍처 설계를 주제로 했습니다. 성능과 안정적인 애플리케이션 환경을 구축하기 위해 이것은 파악해야 하는 기본 기본 주제 중 하나이며 이 영역의 지식 격차는 아키텍처의 설계 및 배포를 놓칠 수 있으며 이는 치명적인 실패로 이어질 수 있습니다. 이 도메인과 관련하여 우리가 다룬 영역은 다중 계층, 고가용성 및/또는 내결함성 아키텍처 솔루션을 설계하고, AWS 서비스와 분리 메커니즘을 활용하고, 요구 사항에 적합한 복원력 있는 스토리지 옵션을 활용하는 것이었습니다. 설계 중인 아키텍처에 대한 액세스, 확장, 데이터베이스, 컴퓨팅 및 스토리지 요구 사항을 이해하면 요구 사항에 적합하고 모범 사례에 부합하는 다중 계층 아키텍처를 구축하는 데 도움이 됩니다.

그리고 그 이해의 큰 부분은 관련된 서비스를 이해하는 데서 나옵니다. 액세스의 경우 최종 사용자로서 웹 애플리케이션에 액세스하는 것만이 아닙니다. 인스턴스 관리를 처리하는 방법과 데이터베이스 관리에 사용할 수 있는 액세스 경로를 이해해야 합니다. 시간이 지남에 따라 광범위하게 배포되고 도달할 수 있어야 하는 문서에 대한 액세스를 제공하기 위해 어떤 서비스와 방법을 사용할 수 있습니까? 인스턴스의 블록 스토리지 볼륨에 저장하시겠습니까, 아니면 버킷에 호스팅하시겠습니까? 디자인에 필요한 계층, 활용해야 하는 서비스, 모든 유형의 액세스에 대한 액세스 패턴을 이해하면 디자인에 영향을 줍니다.

고가용성 및 내결함성 설계도 마찬가지입니다. 가용 영역 및 리전을 사용하는 방법, 장애 조치 메커니즘 및 재해 복구 전략은 문제가 발생할 때 환경 가동 시간에 큰 역할을 합니다. 모든 것을 다중 사이트, 활성-활성 설정으로 만드는 것이 좋지만 대부분의 아키텍처에서 접하게 될 것입니다. 또한 비용이 높고 잠재적으로 정당하지 않을 수 있습니다. 언제 백업 및 복원 솔루션을 배포하는 것이 더 낫습니까? 파일럿 라이트 전략은 어떻습니까? 핵심 성과 지표를 벤치마킹 및 평가하고 해당 정보를 사용하여 고가용성 및 내결함성 솔루션과 재해 복구 전략에 대한 의사 결정을 안내하는 것은 설계 프로세스에서 큰 역할을 할 것입니다.

또한 서비스 선택과 관련하여 분리 및 저장 복원력 요구 사항을 쉽게 간과할 수 있습니다. Amazon Simple Queue Service와 Amazon Simple Notification Service의 차이점은 설계에 어떤 영향을 줍니까? 그리고 기능의 개별 하위 집합이 이러한 선택에 어떤 영향을 줍니까? Amazon S3 Standard-Infrequent Access보다 Amazon S3 Glacier를 사용하면 어떤 이점이 있습니까? 자주 볼 수 있는 샘플 아키텍처는 매우 단순하기 때문에 모든 것이 함께 작동하는 방식과 실제 아키텍처로 작업할 때 고려해야 할 사항을 잊어버리기 쉽습니다. 중요한 시스템의 오류와 이러한 오류가 직접 작업하는 조직에 미치는 영향을 고려해야 할 때 복원력이 얼마나 깊이 있어야 하는지를 고려해야 합니다.