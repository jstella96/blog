---
index: 41
icon: creative
title: Domain 4. Design Cost-Optimized Architectures
category:
  - aws
editLink: false
---

영역 4: 비용에 최적화된 아키텍처 설계
4.1 비용 효율적인 스토리지 솔루션 식별
 요구 사항에 따라 가장 비용 효율적인 데이터 스토리지 옵션을 결정합니다.
 비용을 최소화하기 위해 시간 경과에 따라 데이터를 스토리지 계층에 저장하는 자동화된
프로세스를 적용합니다.
4.2 비용 효율적인 컴퓨팅 및 데이터베이스 서비스 식별
 워크로드의 각 측면에 대해 가장 비용 효율적인 Amazon EC2 결제 옵션을 결정합니다.
 요구 사항에 따라 가장 비용 효율적인 데이터베이스 옵션을 결정합니다.
 비용 관점에서 적절한 조정 전략을 선택합니다.
 워크로드에 가장 적합한 컴퓨팅 리소스를 선택하고 크기를 조정합니다.
 관리형 서비스 및 서버리스 아키텍처를 통해 TCO(총 소유 비용)를 최소화하는 옵션을
결정합니다.
4.3 비용에 최적화된 네트워크 아키텍처 설계
 비용을 절감하기 위해 콘텐츠 전송을 사용할 수 있는 시점을 파악합니다.
 AWS 내에서 데이터 전송 비용을 절감하기 위한 전략을 결정합니다.
 AWS 환경과 온프레미스 환경 간에 가장 비용 효율적인 연결 옵션을 결정합니다

## intro

## 4.1 Cost-effective Storage Solutions / 비용에 최적화된 아키텍처 설계

**세부항목**

- 요구 사항에 따라 가장 비용 효율적인 데이터 스토리지 옵션을 결정합니다.
- 비용을 최소화하기 위해 시간 경과에 따라 데이터를 스토리지 계층에 저장하는 자동화된 프로세스를 적용합니다.

이 항목의 경우 먼저 존재하는 다양한 스토리지 솔루션을 이해하고 주어진 시나리오에서 사용할 솔루션을 알아야 합니다. 예를들어 제시된 시나리오에 애플리케이션을 위한 파일 시스템이 필요한 경우 S3는 파일 스토리지가 아니라 객체 스토리지이기 때문에 솔루션으로 Amazon S3은 적당하지 않은 답입니다. 따라서 가장 먼저 알아야 할 것은 사용 사례에 대해 어떤 서비스를 사용해야 하는지입니다. 그런 다음 비용 최적화 솔루션을 식별하기 위해 지식을 한 단계 더 발전시켜야 합니다.

예를 들어 Amazon EBS 볼륨을 사용할 때 비용을 최적화하는 한 가지 방법은 볼륨 크기를 적절하게 조정하고 있는지 확인하는 것입니다. 또한 사용 중인 IOPS 수에 주의를 기울인 다음 지불하는 IOPS 수와 비교하여 EBS 비용을 최적화할 수 있습니다. 가장 최적화되고 성능이 뛰어난 볼륨 유형에 대해 비용을 지불하고 있지만 해당 용량을 사용하지 않는 경우 성능 저하 없이 볼륨 유형을 변경하고 비용을 절약할 수 있습니다. 사용량 기준을 설정하기 위해 모니터링을 하는 것은 볼륨의 크기를 적절하게 조정하는 데 큰 부분을 차지합니다. 이 작업을 효과적으로 수행하려면 사용량을 면밀히 관찰해야 합니다. Amazon CloudWatch와 같은 서비스를 사용하면 리소스를 모니터링하고 비용 최적화를 위해 솔루션을 수정해야 하는지 여부를 결정할 수 있습니다. Amazon Trusted Advisor와 같은 다른 서비스도 계정에서 활용도가 낮은 EBS 볼륨을 찾을 때 권장 사항을 제공할 수 있습니다.

EBS를 최적화할 수 있는 또 다른 방법은 오래된 스냅샷을 삭제하는 것입니다. 스냅샷은 기본적으로 EBS 볼륨의 증분 백업이며 이러한 EBS 스냅샷 저장 비용이 발생합니다. 사고 발생 시 손상되거나 손실된 데이터를 복원할 수 있도록 하는 것이 중요하지만 불필요한 양의 데이터를 주변에 보관하고 사용하지 않을 리소스에 대해 비용을 지불하는 것도 원하지 않습니다. 이를 알고 더 이상 필요하지 않은 스냅샷을 자동으로 삭제하는 솔루션이 있는지 확인해야 합니다. Amazon Data Lifecycle Manager 및 AWS Backup 서비스를 확인하여 이전 EBS 스냅샷 또는 다른 AWS 서비스의 백업을 자동으로 삭제하는 솔루션에 대해 자세히 알아보세요. 이렇게 하면 AWS 계정 내 스토리지 비용을 줄이는 데 도움이 될 수 있습니다.

비용 최적화를 위해 편안해야 하는 또 다른 AWS 스토리지 솔루션은 Amazon S3입니다. S3는 객체에 대해 다양한 가격을 갖는 다양한 스토리지 계층을 제공합니다. 데이터에 액세스하는 빈도를 기반으로 합니다. 기본적으로 객체는 S3 Standard 스토리지 클래스로 저장되며, 스토리지 비용은 가장 높지만 검색 비용은 가장 낮습니다. S3의 경우 적절한 경우 다양한 스토리지 클래스를 사용하여 비용을 최적화할 수 있습니다. 다양한 스토리지 클래스와 이러한 클래스가 비용 및 검색 시간에 미치는 영향에 대해 잘 알고 있어야 합니다. S3 스토리지 계층에 대한 정확한 가격을 알 필요는 없지만 각 계층에 대한 스토리지 비용과 검색 비용 사이의 절충안과 데이터 스토리지에 대한 시나리오를 고려할 때 이것이 AWS 청구서에 어떤 영향을 미칠 수 있는지 알아야 합니다.

마지막으로 Amazon S3와 같은 서비스에 대한 스토리지 계층화를 자동화하는 방법을 숙지해야 합니다. S3 Intelligent-Tiering 기능을 사용하면 사용 패턴에 따라 스토리지 계층을 변경하여 비용을 자동으로 최적화할 수 있습니다. Intelligent-Tiering의 사용은 액세스 패턴이 변경되거나 알 수 없는 액세스 패턴이 있는 데이터에 가장 잘 사용될 수 있습니다.

## 문제 1

AWS Trusted Advisor에서 비용 최적화 검사를 검토한 후 팀은 계정에 30일이 지난 Amazon Elastic Block Store 스냅샷이 10,000개 있다는 것을 발견했습니다. 팀은 리소스의 수명 주기에 대해 더 나은 governance를 구현해야 한다고 결정했습니다. 최소한의 노력으로 EBS 스냅샷의 수명 주기 관리를 자동화하려면 팀에서 어떤 조치를 취해야 합니까? 2개를 선택하십시오

문제 설명 : 팀은 리소스의 수명 주기에 대해 더 나은 governance를 구현해야 한다고 결정했습니다. 다음 EBS 스냅샷의 수명 주기 관리를 자동화하기 위해 취해야 할 조치를 묻습니다. 그리고 그 질문은 또한 우리가 최소한의 노력이 필요한 답을 선택하기를 원합니다.

A, Create and schedule a backup plan with AWS Backup.  
B, Copy the EBS snapshots to Amazon S3, and then create lifecycle configurations in the S3 bucket.  
C. Use Amazon Data Lifecycle Manager.  
D, Use scheduled event in Amazon EventBridge and invoke AWS Step Functions to manage the snapshots.  
E, Schedule and run backups in AWS Systems Manager.

- A. AWS Backup으로 백업 계획을 생성하고 예약하는 것입니다.
- B. EBS 스냅샷을 Amazon S3에 복사한 다음 S3 버킷에서 수명 주기 구성을 생성합니다.
- C. Amazon 데이터 수명 주기 관리자를 사용합니다.
- D. Amazon EventBridge에서 예약된 이벤트를 사용하고 AWS Step Functions를 호출하여 스냅샷을 관리합니다.
- E. AWS Systems Manager에서 백업을 예약하고 실행합니다.

이에 대한 키는 A, AWS Backup으로 백업 계획 생성 및 예약, C, Amazon Data Lifecycle Manager 사용입니다. 팀은 EBS 스냅샷의 수명 주기 관리를 자동화하려고 합니다. AWS Backup은 Amazon EBS를 포함한 AWS 클라우드의 AWS 서비스 전반에 걸쳐 애플리케이션 데이터에 대한 백업 프로세스를 자동화하는 백업 서비스입니다. 따라서 이 서비스는 EBS 스냅샷 생성을 자동화할 수 있습니다. AWS Backup은 백업하려는 AWS 리소스를 구성 및 감사하고, 백업 일정을 자동화하고, 보존 정책을 설정하고, 모든 최근 백업 및 복원 활동을 모니터링할 수 있는 중앙 위치를 제공합니다. 따라서 이것은 시나리오 설정에 대한 정답입니다. 그런 다음 답변의 두 번째 부분인 C, Amazon Data Lifecycle Manager를 사용합니다.

Amazon DLM을 사용하면 수명 주기 정책을 통해 AWS 리소스의 수명 주기를 관리할 수 있습니다. 수명 주기 정책은 지정된 리소스에 대한 작업을 자동화합니다. 팀은 EBS 스냅샷에 대한 수명 주기 관리가 필요하고 Amazon DLM은 EBS 볼륨 및 스냅샷을 지원하므로 이것이 또 다른 정답입니다. 이 두 답변 모두 다른 잠재적인 정답보다 운영 오버헤드가 덜 필요합니다. 이제 나머지 응답을 살펴보겠습니다. 먼저 B, EBS 스냅샷을 Amazon S3에 복사한 다음 S3 버킷에서 수명 주기 구성을 생성합니다. 이 답변은 올바르지 않습니다. 솔루션이 기술 요구 사항을 충족하지만 최소한의 노력에 대한 요구 사항은 충족하지 않습니다. EBS 스냅샷을 복사하고 S3 버킷에 수명 주기 정책을 설정하려면 팀에서 수동 작업을 제공하거나 어딘가에서 호스팅해야 하는 스크립트를 생성해야 합니다. 이를 Amazon DLM 또는 AWS Backup이 사용하는 자동화된 방식과 비교하면 이 답변이 잘못된 이유를 알 수 있습니다

다음은 D, Amazon EventBridge에서 예약된 이벤트를 사용하고 AWS Step Functions를 호출하여 스냅샷을 관리하는 것입니다. 이 응답은 몇 가지 이유로 올바르지 않습니다. Amazon CloudWatch Events를 예약하여 Step Functions를 호출할 수는 있지만 Step Functions 자체는 EBS 스냅샷을 관리할 수 없습니다. 그런 다음 EBS 볼륨의 백업을 수행하는 Step Functions에서 호출하는 코드를 작성해야 합니다. 이 모든 것을 설정하려면 수동 작업이 필요하며 옵션 A 또는 C보다 운영 오버헤드가 더 많이 필요합니다.

게다가 이것은 EBS 스냅샷의 수명 주기 관리 부분을 설명하지 않기 때문에 이 응답이 올바르지 않습니다. 그런 다음 마지막으로 E, AWS Systems Manager에서 백업 예약 및 실행이 있습니다. Run Command를 사용하여 백업을 수행할 수 있고 이를 자동으로 실행하도록 예약할 수 있지만 최소 노력에 대한 요구 사항을 충족하지 않으며 백업의 수명 주기 관리를 자동화하지 않습니다. 이 솔루션은 AWS Backup 또는 Amazon DLM을 사용하는 것보다 더 많은 노력이 필요합니다. 이 질문에서 최소한의 노력이나 비용 최적화와 같은 특정 요구 사항에 따라 솔루션을 비교하고 대조할 수 있어야 함을 알 수 있습니다. 솔루션을 비교하고 대조할 수 있는 것이 이 시험의 큰 부분입니다. 기술 요구 사항을 충족하는 것만으로는 충분하지 않은 경우가 많습니다. 스토리지 솔루션에 익숙해질 수 있을 만큼 충분히 읽고 실험해야 합니다. 여기서 서로 자세히 비교할 수 있습니다. 이 시험을 준비하는 데 도움이 될 것입니다.

## 4.2 비용 효율적인 컴퓨팅 및 데이터베이스 서비스 식별/Cost-effective Compute and Database Services

**세부항목**

- 워크로드의 각 측면에 대해 가장 비용 효율적인 Amazon EC2 결제 옵션을 결정합니다.
- 요구 사항에 따라 가장 비용 효율적인 데이터베이스 옵션을 결정합니다.
- 비용 관점에서 적절한 조정 전략을 선택합니다.
- 워크로드에 가장 적합한 컴퓨팅 리소스를 선택하고 크기를 조정합니다.
- 관리형 서비스 및 서버리스 아키텍처를 통해 TCO(총 소유 비용)를 최소화하는 옵션을
  결정합니다.

다음으로 비용 효율적인 컴퓨팅 및 데이터베이스 서비스를 식별합니다. Amazon EC2에는 여러 가지 다양한 요금 옵션이 있습니다. EC2 인스턴스에는 온디맨드, 예약, 전용 및 스팟 요금이 있습니다. 그런 다음 Amazon EC2 인스턴스뿐만 아니라 다른 컴퓨팅 서비스에도 적용할 수 있는 Savings Plans가 있습니다. 이러한 각 가격 책정 모델은 비용에 서로 다른 영향을 미치며 특정 시나리오에서 가장 잘 사용됩니다.

시간이 지남에 따라 사용량이 일정하고 하루 종일 사용량이 약간 급증하지만 실제로는 특정 사용량 수준 아래로 떨어지지 않는 컴퓨팅 워크로드에 가장 적합한 가격 책정 모델을 파악하려고 한다고 가정해 보겠습니다. 온디맨드, 예약 또는 스팟 중 이 시나리오에 가장 비용 효율적인 가격 책정 모델은 무엇입니까? 이 경우 시간이 지남에 따라 일정 수준의 일관된 사용량이 있다는 것을 알고 예약 인스턴스를 사용하여 이 일관된 사용량에 대해 할인된 청구 요금을 받을 수 있기 때문에 예약 인스턴스를 선택하겠습니다. 또한 온디맨드 인스턴스를 사용하여 급증하는 사용량을 처리한 다음 스팟을 사용하여 오래 지속되지 않는 사용량의 정점을 처리할 수도 있습니다. 이는 가격 책정에 대한 혼합 접근 방식으로, 워크로드 확장에 대한 비용 최적화 접근 방식을 제공합니다. 각 Amazon EC2 요금 모델이 비용에 미치는 영향을 잘 이해하면 시험을 준비하는 데 도움이 될 수 있습니다. 예약 인스턴스는 Amazon RDS 데이터베이스 인스턴스에도 사용할 수 있으므로 추가 비용 최적화가 가능하다는 점을 기억하는 것도 중요합니다.

EC2의 요금 모델 외에도 비용 최적화를 위해 인스턴스 크기와 제품군을 고려해야 합니다. 적절한 크기 조정이라는 개념은 워크로드의 요구 사항을 충족하는 인스턴스 유형을 선택한 다음 적절한 인스턴스 크기를 선택하는 것을 의미합니다. 이를 위해서는 시간 경과에 따른 인스턴스 사용률을 확인할 수 있도록 모니터링이 필요합니다. 그리고 이러한 인스턴스의 사용률이 매우 낮은 경우 더 작은 인스턴스 크기로 변경할 수 있는 옵션이 있으므로 AWS 청구서 비용을 절약할 수 있습니다. 예를 들어 Amazon RDS와 같은 일부 데이터베이스 서비스를 사용하면 인스턴스 크기를 선택할 수 있으므로 리소스 크기를 적절하게 조정한다는 아이디어는 컴퓨팅 및 데이터베이스에 적용됩니다. 컴퓨팅 및 데이터베이스 비용을 최적화하는 또 다른 방법은 주어진 시나리오에서 적절한 확장 전략을 선택하는 것입니다. 예를 들어 높은 CPU 사용률로 인해 성능 문제가 발생하는 데이터베이스가 있을 수 있습니다. 이 경우 인스턴스에 대한 읽기 요청이 많은 기간이 있을 수 있습니다. 확장하기 위해 인스턴스 크기를 늘릴 수 있습니다. 그러나 이는 데이터베이스와 관련된 비용을 증가시킵니다. 따라서 비용을 최적화하기 위해 읽기 요청의 일부를 흡수하고 데이터베이스 인스턴스의 요청을 오프로드하는 데 도움이 되도록 읽기 전용 복제본 또는 일종의 캐시를 추가하는 것을 대신 고려할 수 있습니다. 이를 통해 성능 요구 사항을 충족하는 동시에 비용을 최적화할 수 있습니다. 읽기 전용 복제본을 도입하는 것이 데이터베이스 인스턴스를 확장하는 것보다 비용 효율적일 수 있기 때문입니다. 스토리지 Auto Scaling을 사용하여 Amazon RDS 데이터베이스의 스토리지 크기를 적절하게 조정할 수도 있습니다. 조정과 관련하여 이러한 종류의 결정을 내리려면 AWS 데이터베이스 서비스와 AWS 컴퓨팅 서비스 모두에 존재하는 다양한 조정 메커니즘에 대한 깊은 지식이 있어야 합니다. 따라서 여기에 공백이 있는 경우 관련 서비스에 대한 설명서를 읽는 것이 좋습니다.

비용을 최적화하는 또 다른 방법은 사용 사례에 맞는 올바른 데이터베이스 서비스를 선택하는 것입니다. 예를 들어 사용 사례 및 사용 패턴에 따라 Amazon Aurora보다 Amazon Aurora Serverless를 사용하는 것이 더 비용 효율적일 수 있습니다. 모두 사용 사례에 따라 다르므로 각 데이터베이스와 해당 사용 사례를 잘 아는 것이 중요합니다. 이제 컴퓨팅 및 데이터베이스의 비용 최적화를 위한 마지막 팁은 가능한 경우 관리형 서비스를 사용하는 것입니다. 클라우드에서 관리형 서비스는 애플리케이션 실행 또는 데이터베이스 관리와 같은 작업을 위해 서버를 유지 관리하는 운영 부담을 제거합니다. 그리고 관리형 서비스는 클라우드 규모에서 운영되기 때문에 트랜잭션 또는 서비스당 더 낮은 비용을 제공할 수 있습니다. 즉, 컨테이너용 AWS Fargate, 서버리스 컴퓨팅용 AWS Lambda 또는 데이터베이스용 Amazon DynamoDB와 같은 관리형 서비스 사용을 고려해야 합니다. AWS 청구서에 비용이 조금 더 들 수 있는 서비스의 경우에도 이러한 관리형 서비스는 DBA와 시스템 관리자가 일상적인 작업에 시간을 보내는 대신 백업 및 복구와 같은 핵심 비즈니스 및 개발에 집중할 수 있도록 합니다. 솔루션 실행을 유지하는 하루 작업. 여기까지가 이 주제에 대한 요약이며 곧 뵙겠습니다.

## 문제

한 신생 기업이 인프라 관리의 운영 오버헤드 없이 마이크로서비스를 비용 효율적으로 실행하고 액세스할 수 있는 솔루션을 찾고 있습니다. 솔루션은 요청 볼륨의 급격한 변화를 수용하고 일반적인 DDoS 공격으로부터 보호할 수 있도록 신속하게 확장할 수 있어야 합니다. 이러한 요구 사항을 충족하는 가장 비용 효율적인 솔루션은 무엇입니까?

질문을 진단해보면 회사가 마이크로서비스를 실행하고 있으며 특히 인프라 관리 오버헤드 없이 마이크로서비스를 실행하는 방법을 찾고 있다는 점에 유의하는 것이 중요합니다. 또한 솔루션이 빠르게 확장되고 DDoS로부터 보호해야 한다고 명시되어 있습니다. 이 질문에 대한 마지막 설명은 회사가 가장 비용 효율적인 솔루션을 찾고 있다는 것입니다.
A. AWS Elastic Beanstalk를 사용하여 컨테이너에서 마이크로서비스를 실행합니다.
B. Amazon API Gateway 뒤에서 AWS Lambda에서 마이크로서비스를 실행합니다.
C. Auto Scaling 그룹의 Amazon EC2 인스턴스에서 마이크로서비스를 실행합니다.
D. EC2 인스턴스가 지원하는 Amazon Elastic Container Service를 사용하여 컨테이너에서 마이크로서비스를 실행합니다.

A. Run the microservices in containers using AWS Elastic Beanstalk.
B. Run the microservices in AWS Lambda behind an Amazon API Gateway.
C. Run the microservices on Amazon EC2 instances in an Auto Scaling group.
D. Run the microservices in containers using Amazon Elastic Container Service backed by EC2 instances.

이 문제의 정답은 B, Amazon API Gateway 뒤의 AWS Lambda에서 마이크로 서비스 실행입니다.

우선 AWS Lambda는 서버리스 서비스이기 때문에 인프라 관리의 운영 오버헤드 없이 백엔드 마이크로서비스를 호스팅할 수 있는 훌륭한 솔루션입니다. 따라서 이 솔루션은 이러한 요구 사항을 충족합니다. 둘째, API Gateway 및 AWS Lambda는 확장을 관리할 필요 없이 요청 볼륨의 급격한 변화에 맞게 확장할 수 있습니다. 확장 메커니즘이 내장되어 있고 매우 빠르므로 이러한 요구 사항도 충족합니다. 셋째, DDoS 방어에 대해 생각해야 합니다. API 게이트웨이와 람다 서비스는 모두 대규모 확장 기능을 갖춘 관리형 서비스입니다. 따라서 이러한 서비스를 압도하는 것은 실제로 매우 어렵습니다. 또한 API Gateway를 사용하면 생성하는 각 메서드에 대해 조절할 수 있습니다. 이렇게 하면 백엔드에 요청이 넘쳐나지 않습니다. 대신 API 게이트웨이 수준에서 삭제됩니다. 또한 API Gateway는 계층 7인 위조 요청으로 공격을 받든 분산 서비스 거부 공격 또는 DDoS 공격으로부터 백엔드 시스템을 자동으로 보호합니다. 또는 OSI 모델의 레이어 3인 SYN 플러드.

이것이 가장 비용 효율적인 솔루션입니까? 그리고 대답은 예입니다. API Gateway와 Lambda는 모두 서버리스 서비스이므로 유휴 리소스에 대해 비용을 지불하지 않습니다. 따라서 요구 사항과 요청 볼륨의 급격한 증가 및 감소를 감안할 때 때때로 하는 것처럼 유휴 리소스에 대해 비용을 지불하지 않고 주어진 시간에 사용한 만큼만 비용을 지불하고 있음을 확신할 수 있습니다.

먼저 A, AWS Elastic Beanstalk를 사용하여 컨테이너에서 마이크로 서비스를 실행합니다. 이 답변은 몇 가지 이유 때문에 정확하지 않습니다. 그 중 하나는 빠른 확장 요구 사항입니다. AWS Elastic Beanstalk를 사용하면 Elastic Load Balancer가 전면에 있는 Auto Scaling 그룹 내부의 Amazon EC2 인스턴스에서 애플리케이션을 정말 쉽게 호스팅할 수 있습니다. 이 솔루션은 확장 가능하지만 조정 이벤트가 발생할 때 Amazon EC2 인스턴스를 부팅해야 하므로 조정이 발생하는 데 몇 분 정도 걸릴 수 있습니다. 따라서 이것은 요구 사항에 충분히 빠르지 않을 수 있습니다. 솔루션이 잘못된 다음 이유는 가장 비용 효율적인 솔루션이 아니기 때문입니다. EC2 기반 서비스이므로 볼륨이 낮은 동안 리소스가 유휴 상태로 있을 수 있지만 여전히 비용이 발생합니다. 즉, AWS Lambda가 보다 비용 효율적인 솔루션입니다. 다음은 Auto Scaling 그룹의 Amazon EC2 인스턴스에서 마이크로 서비스를 실행하는 C입니다. 이것은 AWS Elastic Beanstalk와 같은 이유로 올바르지 않습니다. 이것은 빠르게 확장되지 않으며 잠재적으로 유휴 리소스의 문제도 있습니다. 따라서 이 답변은 잘못된 것입니다. 마지막으로 D. EC2 인스턴스가 지원하는 Amazon Elastic Container Service를 사용하여 컨테이너에서 마이크로 서비스를 실행합니다. 이제 충분히 웃기게도 이것은 마지막 두 답변과 같은 이유로 잘못된 것입니다. 마이크로 서비스가 컨테이너에 있기 때문에 개별 서비스에 대한 확장은 매우 빠릅니다. 그러나 요청 볼륨이 크게 변경될 가능성이 있는 클러스터를 확장해야 하는 경우 클러스터를 확장하는 데 몇 분이 걸립니다. 이것은 요구 사항에 충분히 빠르지 않습니다. 이 솔루션은 또한 Amazon EC2 기반 서비스이기 때문에 리소스를 유휴 상태로 만들 가능성이 동일합니다. 즉, API Gateway 및 AWS Lambda만큼 비용 효율적이지 않습니다. 좋아, 이것으로 끝이야. 이 정보가 잘못된 경우 확장 메커니즘, DDoS 보호 메커니즘 및 관련된 모든 서비스의 가격 책정에 대해 읽어보는 것이 좋습니다.

## 4.3 비용에 최적화된 네트워크 아키텍처 설계 /Cost-optimized Network Architectures

**세부영역**

- 비용을 절감하기 위해 콘텐츠 전송을 사용할 수 있는 시점을 파악합니다.
- AWS 내에서 데이터 전송 비용을 절감하기 위한 전략을 결정합니다.
- AWS 환경과 온프레미스 환경 간에 가장 비용 효율적인 연결 옵션을 결정합니다

이 도메인의 다음 주제는 비용 최적화된 네트워크 아키텍처를 설계하는 것입니다. 이 주제에서 가장 먼저 다루고 싶은 것은 AWS를 사용하면 사용한 만큼만 비용을 지불하면 된다는 점입니다. 그러나 API 호출 비용과 데이터 전송 비용이 포함될 수 있다는 사실을 자주 잊습니다. 예를 들어 Amazon S3를 사용하십시오. S3를 사용하면 S3 버킷에 저장된 데이터 양에 대한 요금이 발생하지만 S3에 대한 API 호출 및 버킷 외부 데이터 전송에 대한 비용도 발생합니다.

즉, Amazon S3를 사용할 때 비용을 최적화하는 좋은 방법 중 하나는 발생하는 API 호출 및 데이터 전송의 양을 줄이는 것입니다. 이를 수행할 수 있는 한 가지 방법은 Amazon CloudFront와 같은 콘텐츠 전송 서비스를 사용하는 것입니다. 액세스되는 데이터의 양과 액세스 패턴에 따라 CloudFront를 사용하여 S3 버킷을 전면에 배치하는 것이 더 비용 효율적일 수 있습니다. 이렇게 하면 누군가가 객체에 대한 요청을 제출하면 요청이 먼저 CloudFront 배포로 라우팅됩니다. 개체가 발견되면 반환됩니다. 캐시에서 찾을 수 없으면 S3에서 검색됩니다. 그런 다음 해당 개체는 다음 요청이 들어올 준비가 되도록 일정 시간 동안 캐시될 수 있습니다.

콘텐츠 전송 네트워크인 CloudFront를 사용하여 효과적인 캐싱 솔루션을 찾는 것은 S3에서 데이터 전송을 줄여 비용을 최적화하는 좋은 방법이 될 수 있습니다. 따라서 시험에서는 CloudFront를 사용하여 비용을 최적화하는 시기와 방법을 잘 살펴보고 CloudFront 배포로 Amazon S3 버킷을 전면에 배치하는 것 이상의 사용 사례를 확인하는 것이 좋습니다.

Amazon CloudFront를 사용하여 데이터 전송 비용을 최적화하는 것 외에도 AWS 내에서 데이터 전송 비용을 줄이기 위한 전략을 결정할 수 있어야 합니다. 일반적으로 AWS에서 데이터 전송 비용을 줄이기 위해 노력해야 합니다. 예를 들어 AWS 리전 간에 데이터를 전송할 때 데이터 전송 요금이 발생합니다. 따라서 리전 간에 서비스 간에 데이터를 전송하는 경우 해당 서비스를 연결하는 방법을 고려하십시오. VPC 피어링과 같은 것을 사용하는 것이 AWS Transit Gateway와 같은 것을 사용하는 것보다 비용 효율적일 수 있습니다. 따라서 네트워크 연결 서비스와 가격을 아는 것이 도움이 될 것입니다. 그런 다음 온프레미스 데이터 센터와 AWS 간에 연결이 이루어집니다. 일반적으로 Direct Connect를 사용하는 솔루션은 VPN 연결을 사용하는 것보다 비용이 더 많이 듭니다. 따라서 AWS Direct Connect가 제공하는 처리량이나 보안이 정말로 필요하지 않는 한 VPN 연결을 사용하는 것이 더 비용 효율적이기 때문에 대신 사용해야 합니다.

AWS에 대한 또 다른 연결 유형은 AWS 리소스에 연결하여 리소스를 관리하는 방법입니다. 예를 들어 일부 로그를 확인하거나 문제 해결을 수행하기 위해 Amazon EC2 인스턴스에 로그온해야 하는 경우 이를 달성할 수 있는 여러 가지 방법이 있습니다. SSH 또는 RDP의 고전적인 방법이 있습니다. 그리고 AWS Systems Manager Session Manager와 Amazon EC2 Instance Connect가 있습니다. 이러한 연결 방법 각각의 비용 영향을 알고 있어야 합니다. 마지막으로 NAT 게이트웨이 또는 전송 게이트웨이와 같은 다른 네트워킹 서비스의 비용 영향을 알고 있어야 합니다.

## 문제3

회사는 프라이빗 서브넷의 Amazon EC2 인스턴스에서 실행되는 애플리케이션을 개발하고 있습니다. EC2 인스턴스는 NAT 게이트웨이를 사용하여 인터넷에 액세스합니다. 솔루션 설계자는 개발자가 인스턴스에 로그인할 수 있도록 보안 옵션을 제공해야 합니다. 어떤 솔루션이 이러한 요구 사항을 가장 비용 효율적으로 충족합니까?

A. 로그인을 활성화하도록 EC2 인스턴스에 대해 AWS Systems Manager Session Manager를 구성합니다.
B. 퍼블릭 서브넷의 배스천 호스트를 구성하여 프라이빗 서브넷의 EC2 인스턴스에 로그인합니다.
C. 기존 NAT 게이트웨이를 사용하여 프라이빗 서브넷의 EC2 인스턴스에 로그인합니다.
D. EC2 인스턴스에 직접 로그인하도록 AWS Site-to-Site VPN을 구성합니다.

A. Configure AWS Systems Manager Session Manager for the EC2 instances to enable login.
B. Configure a bastion host in a public subnet to log in to the EC2 instances in a private subnet.
C. Use the existing NAT gateway to log in to the EC2 instances in a private subnet.
D. Configure AWS Site-to-Site VPN to log in directly to the EC2 instances. Taking another pause here

이 문제의 답은 A, 로그인을 활성화하도록 EC2 인스턴스에 대해 AWS Systems Manager 세션 관리자를 구성하는 것입니다. Session Manager를 사용하면 인바운드 포트를 열거나, 배스천 호스트를 유지하거나, SSH 키를 관리할 필요 없이 안전하고 감사 가능한 인스턴스 관리를 설정할 수 있습니다. Session Manager를 사용하여 Amazon EC2 인스턴스에 액세스하는 데는 추가 비용이 없습니다. 따라서 포트를 열 필요가 없고 추가 비용이 없기 때문에 매우 비용 효율적입니다.

오답 검토
B. 퍼블릭 서브넷의 배스천 호스트를 구성하여 프라이빗 서브넷의 EC2 인스턴스에 로그인합니다. 이는 인스턴스 및 프라이빗 서브넷에 대한 연결을 활성화하는 고전적인 방법입니다. 이것은 작동할 수 있지만 배스천 호스트는 EC2 인스턴스로 요금을 부과하므로 가장 비용 효율적인 솔루션이 아닙니다.
C.기존 NAT 게이트웨이를 사용하여 프라이빗 서브넷의 EC2 인스턴스에 로그인하는 것입니다. 이것은 더 기술적인 이유로 올바르지 않습니다. NAT 게이트웨이는 수신이 아닌 송신 네트워크 트래픽만 허용합니다. 이는 이러한 방식으로 인스턴스에 대한 인바운드 연결을 설정할 수 없음을 의미합니다. 따라서 NAT 게이트웨이의 작동 방식과 해당 기능에 대한 지식을 아는 것이 중요하며 이 답변을 배제하는 데 도움이 됩니다.
D. EC2 인스턴스에 직접 로그인하도록 AWS Site-to-Site VPN 구성이 있습니다. 이제 VPN 연결 설정이 이 사용 사례에 적합하기 때문에 이것은 강력한 방해 요소입니다. 그러나 VPN 연결에는 추가 비용이 발생하므로 가장 비용 효율적인 솔루션이 아니므로 잘못된 응답이 됩니다.

이 문제를 틀렸을 경우 AWS의 연결 서비스 및 기능이 비용에 미치는 영향을 읽어 보십시오.

## 정리 close

한발 물러서서 비용 최적화 아키텍처 설계의 의미에 대해 생각함으로써 이 영역을 마무리할 시간입니다. 클라우드의 장점 중 하나는 AWS 청구서에 대해 반복적인 접근 방식을 취할 수 있다는 것입니다. 이것이 의미하는 바는 클라우드가 가변 비용 모델을 따르고 매월 사용한 만큼만 비용을 지불하기 때문에 구축한 솔루션을 변경하거나 최적화함으로써 발생하는 비용에 영향을 미칠 수 있다는 것입니다.

모니터링을 통해 EC2 인스턴스가 충분히 활용되지 않는다는 사실을 발견했다고 가정해 보겠습니다. 이를 통해 애플리케이션에 대한 인스턴스 크기를 적절하게 조정하거나 축소할 수 있습니다. 이렇게 하면 해당 시점부터 EC2 관련 요금을 줄일 수 있습니다. 그런 다음 다음 달에 Amazon S3용 Intelligent-Tiering을 켜고 액세스 패턴에 맞는 올바른 스토리지 클래스를 활용하기 시작할 수 있습니다. 그런 다음 다음 달에 최적화할 다른 항목을 찾습니다. 비용 최적화 기회를 찾을 위치를 알고 비용 최적화 방법을 아는 것은 온프레미스 컴퓨팅이 제공하지 않는 방식으로 수익에 영향을 줄 수 있는 힘을 제공합니다. 아키텍처 결정으로 인한 비용의 측정 가능한 차이를 볼 수 있다는 것은 굉장한 일입니다.

컴퓨팅과 관련하여 Amazon EC2를 사용하는 경우 가장 적절한 인스턴스 유형과 크기를 선택하는 것이 좋습니다. 거기에서 가격 책정 모델을 살펴볼 수 있습니다. 온디맨드, 예약, Savings Plans, 전용 또는 스팟 인스턴스를 사용해야 합니까? 이러한 각 가격 책정 모델은 비용에 미치는 영향이 다릅니다. 이제 EC2 외에 AWS Lambda는 어떻습니까? Lambda를 사용하면 함수가 소비하는 리소스와 Lambda 함수가 실행되는 시간에 대해 요금이 부과됩니다. 이것은 더 적은 리소스를 소비하고 런타임에 더 효율적인 함수를 작성하여 최적화할 수 있음을 의미합니다.

컨테이너의 경우 이와 유사할 수 있습니다. 더 작고 가벼운 컨테이너를 사용하고 Amazon EC2이든 AWS Fargate이든 클러스터에 적합한 컴퓨팅 플랫폼을 선택하면 비용을 절감할 수 있습니다.

시험과 클라우드 경력을 완벽하게 준비하려면 모든 컴퓨팅 서비스, 사용 사례 및 가격 모델을 검토해야 합니다. 이것은 비용을 최적화하는 방법을 파악하는 데 도움이 됩니다. 스토리지의 경우 Amazon S3를 사용하여 적절한 스토리지 계층을 활용하는 한 가지 방법을 이미 언급했습니다. 적절한 EBS 볼륨 유형 및 크기를 선택하고 EBS 볼륨 또는 데이터베이스 백업에 대한 수명 주기 스냅샷을 관리하여 비용을 최적화할 수도 있습니다. 데이터베이스의 경우 사용 사례에 적합한 데이터베이스를 선택하는 것이 좋은 출발점입니다. 거기에서 항상 확장하거나 확장하는 대신 캐싱을 활용하는 방법을 살펴봐야 합니다. 또한 경우에 따라 쿼리 또는 데이터베이스 디자인을 조정하여 비용을 최적화할 수도 있습니다. 그것은 모두 서비스와 사용 사례에 따라 다릅니다. 그런 다음 네트워킹의 경우 이러한 서비스의 작동 방식, 사용 사례 및 비용 영향에 대해 자세히 살펴보십시오. 다시 말하지만, 사용 사례에 적합한 서비스를 선택할 수 있는 것이 첫 번째 단계입니다. 그러나 그 후에는 만들 수 있는 구성과 각 서비스의 가격 책정 모델을 알아야 합니다.

AWS를 사용할 때 실제로 비용에 영향을 미치려면 사용하려는 서비스에 대한 깊은 실무 지식이 필요합니다. 가장 중요한 것은 먼저 귀하의 요구 사항에 맞는 솔루션을 찾는 것을 기억하는 것입니다. 그 결과 요구 사항을 충족할 수 있는 여러 디자인이 나올 수 있습니다. 거기에서 더 깊은 수준에서 설계를 평가하여 비용을 최적화할 수 있는 부분을 확인할 수 있습니다.
