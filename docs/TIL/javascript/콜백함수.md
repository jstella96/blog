---
index: 5
icon: creative
title: 콜백함수
category:
  - JavaScript
editLink: false
---

::: tip 학습 목표
Q. 자바스크립트 콜백함수란?  
Q. 콜백함수에 대한 제어권이 넘어갈 때 포함되는 3가지는?  
:::

## 콜백함수

callback function: 회신되는 함수, 누군가에게 이 함수 처리해주세요 하면 요청받은 곳에서 처리하고 처리 끝나면 다시 알려주는 것
=> 콜백함수에 대한 제어권을 넘긴다. 넘기고자 하는 대상한테
콜백을 어떻게 처리할지는 제어권을 넘겨 받은 대상이 전적으로 관여를 하게 된다.

제어권 위임(넘겨지는 제어권) : 실행시점, 매개변수, this

### 실행시점

ex) 1초에 한번씩 함수를 호출 하기 위해, setInterval에게 제어권을 넘긴다.

```js
var callback = function () {};
setInterval(callback, 1000); //setInterval(callback, millisecond)
```

### 매개 변수

ex) foreach에게 callback 함수와 매개변수 제어권을 넘긴다.

```js
var arr = [1, 2, 3, 4, 5];
var entries = [];
arr.foreach(
  function (v, i) {
    entries.push([i, v, this[i]]);
  },
  [10, 20, 30, 40, 50]
);
console.log(entries); //[[0,1,10],[1,2,20].....]
```

::: warning
foreach가 정의된 규칙에 따라야한다. 내가 제어권을 넘겨주고자 하는 대상의 규칙에 따라야만 정상 동작 가능

```js
foreach(callback[,thisArg](this로 인식할대상))
array.foreach(function(currentValue,index){},thisArg)

callback : 각요소에 대해 실행할 함수, 인수 셋 취하는
currentValue : 배열에서 현재 처리 중인 요소
index : 배열에서 현재 처리중인 요소의 인덱스
array: forEach()가 적용되고 있는 배열.
thisArg :선택사항. callback을 실행할 때 this로서 사용하는 값
반환값 : undefined
```

:::

### this

ex) addEventListener(type,callback,options)

- 매개변수가 event객체로 지정이 되고
- this에 currentTarget 속성(프로퍼티) 값이 바인딩된다

## 결론 : 콜백함수의 특징

- 다른 함수의(A)의 인자로 콜백함수(B)를 전달하면, A가 B의 제어권을 갖게 된다.
- 특별한 요청(bind)이 없는 한 A에 미리 정해놓은 방식에 따라 B를 호출한다,
- 미리 정해놓은 방식이란
  어떤 시점에 콜백을 호출할지,
  인자 에는 어떤 값들을 지정할지,
  this에는 무엇을 바인딩 할지 등이다.
  ex) foreach, addEventListener 미리 정의되어 있고, 정확히 호출해야함

::: warning
주의. 콜백은 함수이다.

```javascript
obj.logValues(1, 2); // 메소드로 호출
array.foreach(obj.logValues); //함수를 전달

// 그냥 콜백함수로 전달한 것이지 메서드로 호출한게 아니다. 콜백함수로 전달한 것이다.
// 호출은 foreach가 정의 된 방식에 따라한다. 콜백으로 넘기는건 무조건 함수이다.
// 바꾸고 싶은면 bind를 사용하거나 정의된 매개변수로 넘겨야 한다.
```

:::
