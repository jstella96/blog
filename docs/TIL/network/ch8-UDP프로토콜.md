---
index: 2
icon: creative
title: 4 계층
category:
  - Network
tag:
  - 네트워크
editLink: false
---

:::tip

UDP가 하는 일
UDP 프로토콜의 구조
UDP 프로토콜을 사용하는 대표적인 프로그램들
:::

## UDP 프로토콜

UDP가 하는 일
: 굉장히 단순한 전송 방식을 사용하고 있는 프로토콜. 비연결지향형 - 상대방과 연결을 지향하지 않는다.
연결된 상태에서 전송하는게 아니기 때문에 신뢰성이 낮다.

데이터를 전달할때 UDP로 전달을 했는데 중간에 문제가 생기면 대응x

사용자 데이터그램 프로토콜(User Datagram Protocol, UDP)은 유니버설
데이터그램 프로토콜(Universal Datagram Protocol)이라고 일컫기도
한다.
UDP의 전송 방식은 너무 단순해서 서비스의 신뢰성이 낮고, 데이터그램
도착 순서가 바뀌거나, 중복되거나, 심지어는 통보 없이 누락시키기도
한다.
UDP는 일반적으로 오류의 검사와 수정이 필요 없는 프로그램에서 수행할
것으로 가정한다.

UDP 프로토콜의 구조
![udp 구조](./img/7-udp.png)
출발지 포트번호(0~65...) 2Byte
목적지 포트번호 2Byte
길이 (UDP프로토콜+페이로드 길이)
체크썸 헤더프로토콜 손상되지 않았는지 체크하는 값

## UDP 프로토콜을 사용하는 프로그램

UDP 프로토콜을 사용하는 대표적인 프로그램들

DNS 서버 : 도메인을 물으면 IP주소를 알려주는
tftp서버 : UDP로 파일을 공유하는
RIP 프로토콜 : 라우팅 정보를 공유하는

## 실습

1. Tftpd 프로그램을 이용하여 UDP를 이용한 데이터 통신 해보기

- UDP로 데이터 전송하는건 특수한 경우, 동영상 스트리밍 같은 데이터 (동영상은 1초에 30-60개의 사진이 후다닥 지나가는것 그 중에서 사진이 한장 빠졌다. 그 정도는 감수 가능 ) 무조건 동영상 스트리밍 할때 UDP만 쓰는게 아닌 혼합해서 사용한다.
  tftpd는 정상적인 경우가 아니라, 특별한경우 서버 한대 구축하고 렌선꼽아서 100대의 운영체제 없는 컴퓨터에 os 보낼때 등 그럴 때 사용한다. 상황에 맞게.

2. UDP패킷을 캡쳐해보고 분석해보기
   ![udp 구조](./img8-udp프로토콜-패킷캡처-ㅆㄹ쎼.png)

- TFTP는 7계층 프로토콜 - 24Byte

![udp 구조](./img/8-udp프로토콜-패킷캡처.png)
출발지 포트 2Byte, 목적지 포트 2Byte, 길이
TFTP 24 + 8 => 32
