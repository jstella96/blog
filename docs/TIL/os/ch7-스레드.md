---
index: 7
icon: creative
title: 스레드
category:
  - OS
tag:
  - 운영체제
editLink: false
---

:::tip GOAL
Q. 스레드의 기본 구성을 설명하세요.  
Q. 멀티 스레드 프로세스 설계의 이점이 무엇인가요?
:::
해당페이지는 2022년 3월 노션에서 마이그레이션 되었습니다.
  
### 스레드의 개념

프로세스 내에서 프로그램 명령을 실행하는 기본 단위다. 프로세스는 두 가지 특정인 자원과 제어로 구분할 수 있다. 이 중 제어만 분리한 실행 단위를 스레드라고 한다. ==프로그램 카운터와 스택포인터 등을 비롯한 스레드 실행환경정보(문맥정보), 지역데이터, 스택을 독립적으로 가지면서 코드, 전역데이터, 힙을 다른 스레드와 공유==한다.
스레드들은 보통 다른 프로시저를 호출하고 다른 실행을 기록하므로 별도의 스택이 필요하고, 프로그램 카운터가 독립적이라서 같은 프로세스의 스레드들이 동시에 코드의 동일한 부분이나 다른 부분을 실행할 수 있다.

- 스레드 구성 : 스레드 Id , 프로그램 카운터(PC), 지역변수, 레지스터 집합, 스택

- 스레드 사용의 장점 : 
  - 사용자 응답성 증가
  - 프로세스의 자원과 메모리 공유 가능 
  - 경제성 좋음 : 프로세스를 생성하는 것보다 스레드를 생성해서 문맥을 교환하면 오베헤드가 줄어 든다.
  - 다중처리로 성능과 효율 향상

- 단일 스레드와 다중 스레드 :   
다중스레드는 프로그램 하나를 여러 실행단위로 쪼개어 실행한다는 측면에서 다중처리와 의미가 비슷하다. 하지만 동일 프로세스의 스레드는 자원을 공유하므로 자원생성과 관리의 중복성을 최소화하여 실행능력을 향상시킬 수 있다.
![단일-다중-스레드](./img/7-%EB%8B%A8%EC%9D%BC-%EB%8B%A4%EC%A4%91-%EC%8A%A4%EB%A0%88%EB%93%9C.png)

- 다중(멀티) 스레드: 프로그램을 다수의 실행단위로 실행한다.
  - 다대일 모델 : 여러 사용자 스레드를 하나의 커널 스레드로 사상
  - 일대일 모델 : 각 사용자 스레드를 하나의 커널 스레드로 사상, 다대일에 비해 더 많은 병렬성
  - 다대다 모델 : 여러 사용자 스레드를 그보다 작거나 같은 수의 커널 스레드로 멀티 플렉스
  - 2단계 모델 : 다대다 모델의 변형, 여러 사용자 스레드를 적거나 같은 수의 커널 스테드로 멀티 플렉스 시키는 것을 유지하나 하나의 사용자가 하나의 커널스레드에 종속되도록 허용


### 암묵적 스레딩

- 스레드 풀 (암묵적 스레딩 중 하나이다.):
  미리 갯수를 지정한다음 필요할 때마다 꺼내서 사용하는 방식이다.
- 스레드 풀 장점 :
  - 급격한 성능 저하 방지
  - 동시 사용자 수 증가시에도 대응 가능
  - 재사용 가능하다( 직접 생성하는 것보다 훨씬 더 효율적이다. 시스템 자원 측면에서도 장점이 있다
- 스레드 풀 단점:
  - 과다 생성시 메모리 낭비 가능성 존재
