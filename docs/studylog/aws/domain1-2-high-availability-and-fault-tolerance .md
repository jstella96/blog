---
order: 12
icon: creative
title: 1-2 고가용성 및/또는 내결함성 아키텍처 설계
category: 
  - Aws
tag: 
  - SAA-C02 자격증
editLink: false
---
Domain 1. 복원력을 갖춘 아키텍처 설계(Design Resilient Architectures) part 2
  
AWS-SAA 자격증 항목을 기준으로 AWS를 공부 합니다. 각 항목의 의미를 살펴보고 중점사항을 파악하는 것을 목표로 합니다.각 항목별 이론/실습으로 학습합니다.

::: details 상세 영역 ( 출처: aws certification 홈페이지 )

* 1.1 멀티 티어 아키텍처 솔루션 설계 
  * 액세스 패턴을 기반으로 솔루션 설계를 결정합니다.
  * 설계에 사용되는 구성 요소에 대한 조정 전략을 결정합니다.
  * 요구 사항에 따라 적절한 데이터베이스를 선택합니다.
  * 요구 사항에 따라 적절한 컴퓨팅 및 스토리지 서비스를 선택합니다.  

* 1.2 고가용성 및/또는 내결함성 아키텍처 설계   👈👈👈👈👈 **지금 여기**
  * 가용 영역 전반에 내결함성 아키텍처를 제공하는 데 필요한 리소스의 양을 결정합니다.
  * 단일 장애 지점을 완화하는 고가용성 구성을 선택합니다. 
  *  애플리케이션을 변경할 수 없는 경우 레거시 애플리케이션의 안정성을 개선하는 AWS
  서비스를 적용합니다.
  * 비즈니스 요구 사항을 충족하는 데 적절한 재해 복구 전략을 선택합니다.
  * 솔루션의 고가용성을 보장하는 주요 성능 지표를 식별합니다.  

* 1.3 AWS 서비스를 사용하여 결합 해제 메커니즘 설계
  * 구성 요소의 소결합을 달성하기 위해 활용할 수 있는 AWS 서비스를 결정합니다.
  * 결합 해제를 활성화하기 위해 서버리스 기술을 활용할 시기를 결정합니다.  

* 1.4 적절한 복원력을 갖춘 스토리지 선택
  * 데이터의 내구성을 보장하는 전략을 정의합니다.
  * 데이터 서비스 일관성이 애플리케이션 운영에 미치는 영향을 파악합니다.
  * 애플리케이션의 액세스 요구 사항을 충족하는 데이터 서비스를 선택합니다.
  * 하이브리드 또는 비클라우드 네이티브 애플리케이션과 함께 사용할 수 있는 스토리지
서비스를 식별합니다

:::



## 주요관점 

- **가용 영역 전반에 내결함성 아키텍처를 제공하는 데 필요한 리소스의 양을 결정한다**

  - 어떤 자원이 필요한지 평가하기 위해서는 아래와 같은 다방면의 고려를 해야합니다.
  - 서버 및 데이터베이스와 같은 일반 운영 구성 요소의 리더던시(Redundancy)와 AWS 글로벌 인프라의 사용.
  - 데이터 복제, 트래픽 관리, 장애 감지 등 고가용성 및 내결함성 아키텍처 처리에 필요한 구성 요소.

- **단일 장애 지점을 완화하는 고가용성 구성을 선택한다**

  - 각 구성 요소를 가져와 해당 구성 요소가 실패를 가정하고 완화 방법을 결정할 수 있어야합니다.
  - 웹 서버 중 하나에 장애가 발생하면 어떻게 됩니까? 애플리케이션 서버 중 하나가 다운되면 어떻게 합니까? 데이터베이스는 어떻습니까?

- **애플리케이션을 변경할 수 없는 경우 레거시 애플리케이션의 안정성을 개선하는 AWS서비스를 적용한다**

  - 리소스 양을 결정하는 것 외에도 아키텍처의 안정성을 개선하기 위해 사용할 수 있는 AWS 서비스를 선택해야 합니다. 이 부분은 구성 요소 마이그레이션이 불가능한 레거시 애플리케이션에서 특히 중요합니다.
  - 애플리케이션을 AWS에서 실행할 수 없거나 데이터 복제와 같은 서비스가 사용 사례에 적합하지 않은 이유가 있는 경우 안정성 요구 사항을 충족하는 방법을 알아야 합니다.

- **비즈니스 요구 사항을 충족하는 데 적절한 재해 복구 전략을 선택한다**
  - 복구 시간 목표와 복구 지점 목표, 즉 RTO와 RPO를 각각 파악합니다. 이를 바탕으로 어떤 전략이 가장 효과적인지 결정해야합니다.
  - 전략의 관점에서 액티브/패시브 및 액티브/액티브 모두 비즈니스 요구 사항을 충족하는 데 도움이됩니다.
  - 액티브/패시브의 경우 backup and restore, pilot light, warm standby solutions 를 알고 있어야 합니다.
  - 액티브/액티브의 경우 multi-site active/active deployment style을 살펴보십시오.
  - 위에서 언급한 것들의 강점과 RPO 및 RTO 요구 사항에 미치는 영향을 이해해야 합니다.

::: tip RTO 와 RPO

RTO(복구 시간 목표) 조직에서 정의합니다. RTO는 서비스 중단 시점과 서비스 복원 시점 간에 허용되는 최대 지연 시간으로, 서비스를 사용할 수 없는 상태로 허용되는 기간을 결정합니다.

RPO(복구 시점 목표) 조직에서 정의합니다. RPO는 마지막 데이터 복구 시점 이후 허용되는 최대 시간으로, 마지막 복구 시점과 서비스 중단 시점 사이에 허용되는 데이터 손실량을 결정합니다.
:::

- **솔루션의 고가용성을 보장하는 주요 성능 지표를 식별한다.**
  - 고가용성 및 내결함성을 수동으로 처리하는 것은 거의 불가능합니다. 그러나 작업을 자동화하려면 사용해야 하는 트리거와 이러한 트리거를 시작하는 시기를 알아야 합니다.
  - 어떤 핵심 성과 지표(KPI)가 아키텍처 상태에 대한 최상의 가시성을 제공하는지 이해하는 것은 조치를 취해야 할 시기를 결정하는 데 중요합니다.
  - 모니터링과 벤치마킹은 정상 운영이 어떤 것인지 알 수 있는 주요 방법이며 재해 복구 계획에서 활용할 수 있는 정상 범위의 그림을 제공합니다.

::: tip 내결함성과 고가용성
내결함성과 고가용성 아키텍처의 이 둘은 일부 중복되는 부분을 공유하지만 정의가 약간 다릅니다.

- 고가용성을 위한 설계(Designing for high availability):  
  ==가동 중지 시간을 최소화하는 설계를 의미합니다.== 이 스타일은 구성 요소나 응용 프로그램이 실패할 때 필수 서비스의 복원을 우선적으로 처리하여 최종 사용자에게 미치는 부정적인 영향을 줄이는 데 중점을 둡니다.
- 내결함성을 위한 설계(designing for fault tolerance):  
   ==다운타임과 서비스 중단이 없는 아키텍처를 갖는 것을 의미합니다.== 일반적으로 훨씬 더 많은 복제 및 중복으로 인해 더 높은 비용을 의미합니다. 또한 데이터 복제 및 구성 요소 중복 관리로 인해 훨씬 ​​더 복잡해집니다.
  :::


## 키워드

## Question

    Q. 설계자는 회사의 비즈니스 크리티컬 애플리케이션을 위한 재해 복구 솔루션을 만들어야 합니다.
    DR 사이트는 기본 사이트와 다른 AWS 리전에 있어야 합니다. 이 솔루션에는 몇 초 단위의 복구 지점
    목표와 분 단위의 복구 시간 목표가 필요합니다. 이 솔루션은 또한 완벽하게 작동하지만 축소된 버전의
    애플리케이션을 배포해야 합니다. 어떤 DR 전략이 이러한 요구 사항을 충족합니까?

    A. Multi-site active-active
    B. Backup and restore
    C. Pilot light
    D. Warm standby

**풀이**

질문에서 충족하려는 요구 사항은 다음과 같습니다. 1) DR 사이트는 다른 AWS 리전에 있어야 하고 2) RPO는 몇 초 이내여야 하고, RTO는 몇 분 이내여야 하고 3) 솔루션은 완전히 작동하지만 축소된 버전의 애플리케이션을 배포해야 합니다.

이 문제의 답은 D입니다. Warm standb는 다른 지역에 있어야 하는 요구 사항을 충족하고 복구 시간 및 복구 지점 목표를 충족할 수 있습니다. 이것은 설계상 올바르게 작동하면서도 기본 사이트의 축소 버전을 배포하는 것이 가능합니다.

A. 문제에는 애플리케이션의 규모 축소에 대한 명시된 요구 사항이 있으나 이 전략에는 DR사이트가 기본 사이트와 동일한 수준에 있어야 합니다. 다른 모든 조건은 충족합니다.
B,C. 이 두개의 답안은 RPO 및 RTO 요구 사항을 충족할 가능성이 있지만 둘 다 축소된 버전의 애플리케이션이 있는 완전한 기능의 DR 사이트를 포함하지 않기 때문에 올바르지 않습니다.

[DR Architecture 관련 AWS 문서링크](https://aws.amazon.com/blogs/architecture/disaster-recovery-dr-architecture-on-aws-part-i-strategies-for-recovery-in-the-cloud/)
