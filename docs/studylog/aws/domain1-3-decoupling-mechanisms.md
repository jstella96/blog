---
order: 13
icon: creative
title: 1-3 결합 해제 메커니즘 설계
category: 
  - Aws
tag: 
  - SAA-C02 자격증
editLink: false
---
Domain 1. 복원력을 갖춘 아키텍처 설계(Design Resilient Architectures) part 3
  
AWS-SAA 자격증 항목을 기준으로 AWS를 공부 합니다. 각 항목의 의미를 살펴보고 중점사항을 파악하는 것을 목표로 합니다.각 항목별 이론/실습으로 학습합니다.

::: details 상세 영역 ( 출처: aws certification 홈페이지 )

* 1.1 멀티 티어 아키텍처 솔루션 설계 
  * 액세스 패턴을 기반으로 솔루션 설계를 결정합니다.
  * 설계에 사용되는 구성 요소에 대한 조정 전략을 결정합니다.
  * 요구 사항에 따라 적절한 데이터베이스를 선택합니다.
  * 요구 사항에 따라 적절한 컴퓨팅 및 스토리지 서비스를 선택합니다.  

* 1.2 고가용성 및/또는 내결함성 아키텍처 설계
  * 가용 영역 전반에 내결함성 아키텍처를 제공하는 데 필요한 리소스의 양을 결정합니다.
  * 단일 장애 지점을 완화하는 고가용성 구성을 선택합니다. 
  *  애플리케이션을 변경할 수 없는 경우 레거시 애플리케이션의 안정성을 개선하는 AWS
  서비스를 적용합니다.
  * 비즈니스 요구 사항을 충족하는 데 적절한 재해 복구 전략을 선택합니다.
  * 솔루션의 고가용성을 보장하는 주요 성능 지표를 식별합니다.  

* 1.3 AWS 서비스를 사용하여 결합 해제 메커니즘 설계 👈👈👈👈👈 **지금 여기**
  * 구성 요소의 소결합을 달성하기 위해 활용할 수 있는 AWS 서비스를 결정합니다.
  * 결합 해제를 활성화하기 위해 서버리스 기술을 활용할 시기를 결정합니다.  

* 1.4 적절한 복원력을 갖춘 스토리지 선택
  * 데이터의 내구성을 보장하는 전략을 정의합니다.
  * 데이터 서비스 일관성이 애플리케이션 운영에 미치는 영향을 파악합니다.
  * 애플리케이션의 액세스 요구 사항을 충족하는 데이터 서비스를 선택합니다.
  * 하이브리드 또는 비클라우드 네이티브 애플리케이션과 함께 사용할 수 있는 스토리지
서비스를 식별합니다

:::

## 주요 관점

Decoupling은 더 큰 시스템의 일부로 작업을 완료할 때 자율적으로 남아 있고 서로를 인식하지 못하는 구성 요소를 나타냅니다. 이것은 간단한 응용 프로그램 내에서 구성 요소를 설명하는 데 사용되거나 훨씬 더 큰 규모로 적용될 수 있습니다.

또한 동기 및 비동기 통합이라는 두 가지 분리 기술을 이해하고 구별할 수 있다는 것이 중요합니다. 동기식 디커플링은 일반적으로 적어도 두 개의 구성 요소를 포함하며, 제대로 작동하려면 둘 다 항상 사용할 수 있어야 합니다. 예를 들어 Elastic Load Balancing을 사용하여 여러 가용 영역의 인스턴스 간에 트래픽을 분산할 수 있습니다. 인스턴스는 서로를 인식하지 못하고 서로 의존하지 않지만 이것이 제대로 작동하려면 적용 가능한 각 가용 영역에 하나 이상의 인스턴스가 있어야 합니다. 모든 인스턴스가 동일한 유형의 작업을 수행하지만 독립적으로 수행하며 일반적으로 서로 통신할 필요가 없습니다. 로드 밸런서와 인스턴스가 모두 실행되는 한 기능은 예상대로 계속됩니다.

비동기식 디커플링을 사용하면 구성 요소와 제자리에 있는 메커니즘 사이에 누화가 발생하므로 하나가 중단되더라도 구성 요소 간의 통신이 계속 이루어질 수 있습니다. 인스턴스가 모두 메시지를 처리하고 인스턴스 간의 메시징을 처리하는 Amazon Simple Queue Service와 같은 대기열이 있는 아키텍처를 예로 들 수 있습니다. 인스턴스 중 하나가 오프라인이 되는 경우 인스턴스가 메시지를 검색할 수 있을 때까지 메시지가 지속됩니다.

- **구성 요소의 소결합을 달성하기 위해 활용할 수 있는 AWS 서비스를 결정한다**

  - 솔루션이 아키텍처에 대한 디커플링을 추가하거나 개선하기 위한 서비스 구현을 포함하는 많은 시나리오를 접하게 됩니다. 디커플링 서비스를 활용하는 방법을 아는 것은 매우 중요합니다.
  - 앞에서 설명한 ELB와 같은 도구를 사용하거나 Amazon EventBridge를 사용하여 더 복잡한 빌드를 처리하는 것은 중요합니다.

- **결합 해제를 활성화하기 위해 서버리스 기술을 활용할 시기를 결정한다**
  - 서버리스 툴킷 내에서 SQS, Amazon API Gateway, Amazon DynamoDB 및 기타 여러 서비스를 배포할 수 있는 방법은 무엇입니까? 이러한 도구를 구현하는 방법을 이해하면 아키텍처에 유연성과 분리 기능을 구축하는 데 도움이 될 뿐만 아니라 어떤 응답이 효과가 있고 가장 잘 작동할지 결정하는 데 크게 도움이 됩니다.

교과서적인 정의와 디커플링 방법론만 아는건 안된다. 서버리스 및 디커플링 서비스를 사용하여 아키텍처와 시험에 제시된 시나리오의 기능을 구축하고 개선하는 방법을 배우는 것이 중요합니다. 질문에서 요구 사항을 평가하고 서비스 작동 방식을 이해함으로써 직면하는 다양한 구현에 가장 적합한 것이 무엇인지 파악하십시오.


## 키워드


## Question

    한 회사가 온프레미스 애플리케이션을 Amazon Web Services로 마이그레이션하고 디자인을 리팩토링하고 있습니다. 디자인은 요청을 수신하는 프론트엔드 Amazon EC2 인스턴스, 요청을 처리하는 백엔드 EC2 인스턴스, 애플리케이션 분리를 해결하기 위한 메시지 큐 서비스로 구성됩니다. 솔루션 설계자는 애플리케이션의 주요한 요청이 수신된 순서대로 처리된다는 정보를 받았습니다. 솔루션 설계자는 애플리케이션을 분리하기 위해 어떤 AWS 서비스를 사용해야 합니까?

    A. Amazon Simple Queue Service standard queue.
    B. Amazon Simple Notification Service.
    C. Amazon Simple Queue Service FIFO queue.
    D. Amazon Kinesis

설계에 따르면 1) 아키텍처는 요청을 수신하는 프론트엔드 인스턴스와 요청을 처리하는 백엔드 인스턴스로 구성되며 솔루션의 요구 사항은 메시지 순서를 유지하는 것입니다. 2) 요청은 애플리케이션 분리를 처리하고 요구 사항을 충족하기 위해 메시지 대기열 서비스를 선택하기 위한 것입니다.

이문제의 답은 C입니다. SQS 표준 큐는 메시지 지속성을 처리하고 프론트 및 백엔드 인스턴스는 필요에 따라 큐에 넣고 풀 수 있습니다. 또한 FIFO 또는 선입선출 대기열의 사용하여 메시지 순서를 유지 관리해야 하는 요구 사항을 충족할 수 있습니다.

A는 SQS 표준 큐만으로는 문제에 명시된 메시지 순서 요구 사항을 충족하지 못합니다. C의 답안은 SQS큐에 FIFO 대기열을 사용해 이 요구사항을 충족하였습니다.
B는 이것은 한 계층에서 다음 계층으로 이동하는 메시지를 처리할 수 있지만 SQS 표준 대기열과 비교할 때 이를 부족한 솔루션으로 만드는 몇 가지 사항이 있습니다. 가장 먼저 떠오르는 것은 SNS가 메시지 전달을 보장하지 않는다는 것입니다. 두 번째는 SNS가 메시지 순서를 보장하지 않는다는 것입니다. 가장 큰 문제는 SNS가 대기열이 아니며 메시지 지속성이 없다는 것입니다. 메시지가 전송되고 올바른 순서로 전달되더라도 인스턴스가 다운되어 메시지가 손실될 수 있습니다.

D는 Amazon Kinesis 사용을 권장합니다. Kinesis는 데이터 수집, 처리 및 분석에 적합하지만 스트리밍, 실시간 데이터 수집에 더 적합합니다. 해당 문제의 요구사항으로 봤을 때 SQS FIFO 대기열만큼 이상적이지 않습니다.

이 질문의 답은 Amazon SQS FIFO 대기열인 C입니다.
