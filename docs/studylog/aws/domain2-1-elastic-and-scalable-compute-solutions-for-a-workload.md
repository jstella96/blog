---
order: 21
icon: creative
title: 2-1 워크로드를 위한 탄력적이고 확장 가능한 컴퓨팅 솔루션 식별
category: 
  - Aws
tag: 
  - SAA-C02 자격증
editLink: false
---

Domain 2. 고성능 아키텍처 설계(Design High Performing Architectures) part 1
  
AWS-SAA 자격증 항목을 기준으로 AWS를 공부 합니다. 각 항목의 의미를 살펴보고 중점사항을 파악하는 것을 목표로 합니다.각 항목별 이론/실습으로 학습합니다.

::: details 상세 영역 ( 출처: aws certification 홈페이지 )

* 2.1 워크로드를 위한 탄력적이고 확장 가능한 컴퓨팅 솔루션 식별  👈👈👈👈👈 **지금 여기**
  * 컴퓨팅, 스토리지 및 네트워킹 요구 사항에 따라 적절한 인스턴스를 선택합니다.
  * 성능 요구 사항을 충족하도록 확장 가능한 적절한 아키텍처 및 서비스를 선택합니다.
  * 솔루션의 성능을 모니터링하는 지표를 식별합니다.

* 2.2 워크로드를 위한 확장 가능한 고성능 스토리지 솔루션 선택
  * 성능 요구 사항을 충족하는 스토리지 서비스 및 구성을 선택합니다.
  * 향후 요구 사항을 수용하도록 확장 가능한 스토리지 서비스를 결정합니다.

* 2.3 워크로드를 위한 고성능 네트워킹 솔루션 선택
  * 성능 요구 사항을 충족하는 데 적절한 AWS 연결 옵션을 선택합니다.
  * AWS 퍼블릭 서비스에 대한 연결을 최적화하는 데 적절한 기능을 선택합니다.
  * 성능 이점을 제공하는 엣지 캐싱 전략을 결정합니다.
  * 마이그레이션 및/또는 수집에 적합한 데이터 전송 서비스를 선택합니다.

* 2.4 워크로드를 위한 고성능 데이터베이스 솔루션 선택
  * 적절한 데이터베이스 조정 전략을 선택합니다.
  * 성능 향상을 위해 데이터베이스 캐싱이 필요한 시점을 결정합니다.
  * 성능 요구 사항을 충족하는 적합한 데이터베이스 서비스를 선택합니다.

:::

## 주요관점

솔루션의 확장성 또는 탄력성은 아키텍처에서 사용하기로 선택한 AWS 서비스와 함께 작동하도록 해당 서비스를 구성한 방법에 따라 달라질 수 있습니다.

AWS의 일부 서비스는 예를 들어 AWS Lambda와 같은 서비스는 아무 것도 할 필요 없이 자동으로 탄력적입니다. 확장 가능하고 탄력적인 서비스입니다. Lambda 함수를 초당 한 번 또는 100번 호출해야 하는 경우 간단하게 수행할 수 있습니다. AWS Lambda를 확장하기 위해 서비스를 확장하거나 아키텍처를 설계할 필요가 없습니다. 모든 AWS 서비스에 해당되는 것은 아닙니다. 그리고 이것은 디자인 결정을 내릴 때 아는 것이 중요합니다. Amazon EC2를 예로 들어 보겠습니다. Amazon EC2는 본질적으로 확장 가능하지 않은 서비스이지만 Amazon EC2를 확장 가능하고 탄력적으로 만드는 방법에는 여러 가지가 있습니다. Amazon EC2를 사용하여 솔루션을 설계하기 시작할 때 가장 먼저 고려해야 할 사항은 어떤 Amazon EC2 인스턴스 유형을 사용할 것입니까?

- 컴퓨팅, 스토리지 및 네트워킹 요구 사항에 따라 적절한 인스턴스를 선택합니다.

  - 올바른 인스턴스 유형을 선택하려면 먼저 애플리케이션에 필요한 것이 무엇인지 알아야 합니다. 시험의 경우 인스턴스 유형 선택과 관련된 질문이 있는 경우 애플리케이션 요구 사항에 대한 컨텍스트를 제공할 가능성이 높습니다.
  - 컴퓨팅, 스토리지 및 네트워킹 요구 사항에 대한 애플리케이션 리소스 요구 사항을 알고 있는 경우 Amazon EC2 인스턴스에 적합한 인스턴스 패밀리를 선택할 수 있습니까?
  - 모든 단일 인스턴스 유형을 외울 필요는 없지만 워크로드에 대한 인스턴스 패밀리를 선택하는 것이 애플리케이션 성능과 확장성에 어떤 영향을 미칠 수 있는지 확실히 이해해야 합니다.
  - Amazon EC2 인스턴스 유형 페이지를 방문하여 다양한 인스턴스 패밀리에 대해 읽고 Amazon EC2를 사용하여 시험을 준비하는 방법을 살펴보십시오.

- 성능 요구 사항을 충족하도록 확장 가능한 적절한 아키텍처 및 서비스를 선택합니다.

  - 사용 사례를 기반으로 정의된 상황에서 어떤 AWS 서비스가 가장 확장 가능하고 성능이 좋을지 결정할 수 있어야 합니다.
  - 예를 들어 Amazon EC2에서 백엔드 웹 서비스를 호스팅해야 하는 조직이 있고 이 웹 서비스의 사용량이 하루 종일 크게 달라진다고 가정해 보겠습니다. 이 솔루션은 가용성이 높고 탄력적이어야 합니다. 이 워크로드에 대해 어떤 유형의 아키텍처가 확장 가능한 솔루션이 될까요? 이 경우 Elastic Load Balancing 및 Amazon EC2 Auto Scaling과 함께 Amazon EC2를 사용하는 방법을 살펴보고 싶을 것입니다. 컴퓨팅 워크로드 확장에 적합한 아키텍처를 선택하는 방법을 아는 것은 중요합니다.

  - Amazon EC2가 유일한 컴퓨팅 옵션이 아니라는 점도 중요합니다. Amazon EC2와 AWS Lambda, 컨테이너 서비스를 언제 사용하고 싶은지에 대한 아키텍처 질문에 답할 수 있어야 합니다.
  - 언제 어떤 컴퓨팅 서비스를 사용할지, 각 컴퓨팅 서비스에 어떤 이점과 제한이 있는지 선택하는 데 매우 익숙해야 합니다.
  - 컴퓨팅 제한 사항의 예는 이 과정을 작성하는 현재 AWS Lambda 함수가 한 번에 최대 15분 동안만 실행할 수 있다는 것입니다. 이것을 알면 Lambda를 언제 사용할지 여부에 대해 정보에 입각한 결정을 내리는 데 도움이 될 수 있습니다.

- 솔루션의 성능을 모니터링하는 지표를 식별합니다.

  - 스케일링 주제를 보면. 일반적으로 Amazon CloudWatch에서 생성된 경보에 대해 조정 이벤트를 호출합니다. 이러한 경보는 메트릭이 정의된 시간 동안 특정 임계값을 초과할 때 호출됩니다. 조정을 위해 모니터링할 메트릭을 선택하는 방법을 아는 것은 중요합니다.
  - CPU 사용률은 조정을 위해 모니터링하는 일반적인 Amazon EC2 지표입니다. 인스턴스 또는 인스턴스 그룹에 비해 CPU 사용률이 너무 높으면 인스턴스가 현재 수요를 따라갈 수 없다는 신호이며 조정 이벤트가 발생해야 합니다.
  - 사용자 지정 지표 또는 HealthyHostCount 또는 SurgeQueueLength와 같은 Elastic Load Balancing과 관련된 지표와 같이 조정에 사용할 수 있는 다른 유형의 지표도 있습니다. 그것은 실제로 상황에 따라 다르며, 척도 측정이 가장 의미가 있습니다.
  - 확장에 사용할 수 있는 다양한 컴퓨팅 관련 서비스에서 사용할 수 있는 메트릭을 탐색하는 것이 좋습니다.

- 스터디
- VPC는 한리전에 여러 가용영역, 서브넷궈성은 느낌상 한 가용
- vpc안에서 프라이빗 서브넷은 elb 프라이빗 안에 인스턴스
- 인스턴스 그룹 과 오토스케일링 그룹의 차이

## 키워드

## Question

한 회사에서 사진과 비디오를 처리하는 응용 프로그램을 개발했습니다. 사용자가 사진과 비디오를 업로드하면 작업에서 파일을 처리합니다. 긴 동영상을 처리하는 데 최대 1시간이 소요될 수 있습니다. 회사는 Amazon EC2 온디맨드 인스턴스를 사용하여 웹 서버를 실행하고 작업을 처리하고 있습니다. 웹 계층과 처리 계층에는 Application Load Balancer 뒤의 Auto Scaling 그룹에서 실행되는 인스턴스가 있습니다.
피크 시간 동안 사용자는 애플리케이션이 느리고 애플리케이션이 일부 요청을 전혀 처리하지 않는다고 보고합니다. 저녁 시간에는 시스템이 유휴 상태입니다. 애플리케이션이 가장 비용 효율적인 방식으로 모든 작업을 처리하도록 솔루션 설계자는 무엇을 해야 합니까?

A, 웹 계층과 처리 계층의 Auto Scaling 그룹에서 더 큰 인스턴스 크기를 사용하십시오.
B, 웹 계층 및 처리 계층의 Auto Scaling 그룹에 대해 Spot Instances를 사용합니다.
C, 웹 계층과 처리 계층 사이에 Amazon Simple Queue Service 표준 대기열을 사용합니다. 사용자 지정 대기열 메트릭을 사용하여 처리 계층에서 Auto Scaling 그룹을 확장합니다.
D, EC2 인스턴스 및 Auto Scaling 그룹 대신 AWS Lambda 함수를 사용합니다. 충분한 동시 기능이 동시에 실행될 수 있도록 서비스 할당량을 늘립니다

이 문제의 경우 1) 처리하는 데 최대 1시간이 소요될 수 있는 작업이 있습니다. 따라서 중요할 수 있는 처리 질문에 대한 시간 프레임을 제공합니다. 그런 다음 2) 온디맨드 EC2 인스턴스를 사용하는 웹 서버의 현재 아키텍처와 Auto Scaling 그룹의 EC2 인스턴스에서 실행되는 처리 계층에 대한 세부 정보를 제공합니다. 이것은 컨텍스트 정보입니다. 그런 다음 해결하려는 문제 설명은 사용량이 많은 시간에 사용자가 응용 프로그램이 느리거나 때때로 작업을 처리하지 않는다는 것입니다.

마지막으로, 답변을 평가할 때 답변이 문제를 해결할 수 있는지 확인하고 싶지만 질문은 가장 비용 효율적인 답변을 요구한다는 점을 염두에 두어야 합니다. 이제 응답을 살펴보겠습니다.

C는 웹 계층과 처리 계층 사이에 Amazon Simple Queue Service 표준 대기열을 사용합니다. 그런 다음 사용자 지정 대기열 메트릭을 사용하여 Auto Scaling 그룹 및 처리 계층을 확장합니다. 이 질문은 Auto Scaling 그룹이 있는 처리 계층이 피크 시간에 작업을 완료할 만큼 충분히 빠르게 확장되지 않는 시나리오를 설정합니다. 즉, 인스턴스가 들어오는 요청 볼륨과 동기화하여 확장할 수 있도록 확장 요구 사항을 조정해야 합니다. Auto Scaling 그룹은 SQS 대기열의 시스템 로드 변경에 따라 확장할 수 있습니다. 따라서 SQS 대기열을 아키텍처에 도입하면 대기열이 특정 깊이에 도달하면 사용자 지정 메트릭을 사용하여 처리 인스턴스를 확장할 수 있습니다. 이는 메시지가 대기열에서 백업되기 시작한다는 신호입니다. 이 솔루션은 또한 때때로 최대 사용량에서 인스턴스가 요청을 삭제하고 작업을 전혀 처리하지 않는 문제를 해결합니다. SQS 대기열의 도입으로 Auto Scaling 그룹이 최대 용량에 도달하더라도 작업은 대기열에 저장되고 컴퓨팅 리소스를 사용할 수 있게 되면 처리됩니다.

A는 웹 계층과 처리 계층의 Auto Scaling 그룹에서 더 큰 인스턴스 크기를 사용합니다. 인스턴스 크기가 클수록 처리 인스턴스의 성능이 향상됩니다. 그러나 비용도 증가합니다. 큰 인스턴스가 유휴 상태일 때 작은 인스턴스보다 더 많은 비용이 발생하기 때문에 이는 대부분 문제입니다. 그리고 우리는 이 애플리케이션을 통해 밤에 리소스가 유휴 상태라는 것을 알고 있습니다. 즉, 이 솔루션을 사용하여 발생하는 추가 비용으로 인해 올바른 응답으로 부적합합니다. 또한 인스턴스 크기의 변경은 처리를 보장할 수 없습니다. 이는 애플리케이션이 어떻게 작성되고 리소스를 얼마나 효과적으로 사용하는지에 따라 달라질 수 있습니다.

B는 웹 레이어와 프로세싱 레이어의 Auto Scaling 그룹에 스팟 인스턴스를 사용하는 것입니다. 이 응답의 경우, 언뜻 보기에는 좋은 응답처럼 보일 수 있습니다. 스팟 인스턴스는 온디맨드 인스턴스보다 비용 효율적입니다. 따라서 이것만으로도 이 응답을 선택하고 싶은 유혹을 받을 수 있습니다. 그러나 이 응답을 자세히 살펴보면 질문에서 설정한 문제가 실제로 해결되지 않는다는 것을 알 수 있습니다. 응용 프로그램은 느리게 실행되며 너무 많은 경우 요청을 삭제할 수 있습니다. 스팟 인스턴스를 사용한다고 해서 본질적으로 아키텍처를 더 확장할 수 있는 것은 아닙니다. 게다가 스팟 인스턴스와 온디맨드 인스턴스는 부팅 및 확장에 동일한 시간이 걸립니다. 따라서 하나를 다른 것으로 교체하는 것은 우리가 여기서 겪고 있는 문제를 실제로 변경하지 않습니다. 또한 스팟 인스턴스를 항상 사용할 수 있다는 보장도 없습니다. 따라서 스팟 인스턴스를 사용할 수 없고 애플리케이션이 계속해서 요청을 삭제할 가능성이 있습니다. 따라서 이것은 잘못된 답변입니다.

D는 EC2 인스턴스 및 Auto Scaling 그룹 대신 AWS Lambda 함수 사용이 있습니다. 충분한 동시 기능이 동시에 실행될 수 있도록 서비스 할당량을 늘립니다. 처리 작업을 실행하는 데 최대 1시간이 걸릴 수 있지만 AWS Lambda 함수의 런타임 제한은 15분이라는 것을 알고 있기 때문에 이는 잘못된 정보입니다.

디커플링 서비스, Amazon SQS 및 Amazon EC2 조정 사례와 AWS Lambda 기능에 대해 자세히 읽어보는 것이 좋습니다.
**스터디**
SQS , SNS 차이 알기.
