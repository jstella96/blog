---
order: 23
icon: creative
title: 2-3 워크로드를 위한 고성능 네트워킹 솔루션 선택
category: 
  - Aws
tag: 
  - SAA-C02 자격증
editLink: false
---


AWS-SAA 자격증 항목을 기준으로 AWS를 공부 합니다. 각 항목의 의미를 살펴보고 중점사항을 파악하는 것을 목표로 합니다.각 항목별 이론/실습으로 학습합니다.

::: details 상세 영역 ( 출처: aws certification 홈페이지 )

* 2.1 워크로드를 위한 탄력적이고 확장 가능한 컴퓨팅 솔루션 식별  
  * 컴퓨팅, 스토리지 및 네트워킹 요구 사항에 따라 적절한 인스턴스를 선택합니다.
  * 성능 요구 사항을 충족하도록 확장 가능한 적절한 아키텍처 및 서비스를 선택합니다.
  * 솔루션의 성능을 모니터링하는 지표를 식별합니다.

* 2.2 워크로드를 위한 확장 가능한 고성능 스토리지 솔루션 선택 
  * 성능 요구 사항을 충족하는 스토리지 서비스 및 구성을 선택합니다.
  * 향후 요구 사항을 수용하도록 확장 가능한 스토리지 서비스를 결정합니다.

* 2.3 워크로드를 위한 고성능 네트워킹 솔루션 선택 👈👈👈👈👈 **지금 여기**
  * 성능 요구 사항을 충족하는 데 적절한 AWS 연결 옵션을 선택합니다.
  * AWS 퍼블릭 서비스에 대한 연결을 최적화하는 데 적절한 기능을 선택합니다.
  * 성능 이점을 제공하는 엣지 캐싱 전략을 결정합니다.
  * 마이그레이션 및/또는 수집에 적합한 데이터 전송 서비스를 선택합니다.

* 2.4 워크로드를 위한 고성능 데이터베이스 솔루션 선택
  * 적절한 데이터베이스 조정 전략을 선택합니다.
  * 성능 향상을 위해 데이터베이스 캐싱이 필요한 시점을 결정합니다.
  * 성능 요구 사항을 충족하는 적합한 데이터베이스 서비스를 선택합니다.

:::

## Domain 2 고성능 아키텍처 설계
## 워크로드를 위한 고성능 네트워킹 솔루션 선택

- 성능 요구 사항을 충족하는 데 적절한 AWS 연결 옵션을 선택합니다

  -  하이브리드 모델을 따르는 것은 AWS와 함께 작업할 때 매우 일반적입니다. 온프레미스 데이터 센터와 AWS 리소스는 종종 시스템 간에 데이터와 메시지를 전송하기 위해 개인적으로 통신하는 방법을 알아야 합니다.
  -  AWS Managed VPN 또는 AWS Direct Connect와 같은 서비스를 사용하여 AWS 리소스를 온프레미스, 데이터 센터 리소스에 비공개로 연결할 수 있습니다. 해당 기능들을 사용한 연결의 성능 및 처리량 기능에 익숙해져야합니다.
  - 그 외에도 VPN 또는 Direct Connect와 함께 사용하여 여러 VPC를 원격 네트워크에 연결할 수 있는 AWS Transit Gateway와 같은 서비스에 익숙해야 합니다. 또한 Transit Gateway의 작동 방식, 사용 사례 및 네트워크 피어링 솔루션을 단순화할 수 있는 방법을 알아야 합니다. 
  - 상위 수준에서 알아야 할 또 다른 서비스는 AWS CloudHub로, 네트워크 연결을 위한 허브 및 스포크 모델을 생성하는 데도 도움이 될 수 있습니다.
  - 원격 네트워크를 AWS에 연결하는 것 외에도 VPC 간에 연결을 생성하는 방법도 알아야 합니다. 한 VPC의 애플리케이션이 다른 VP  또는 다른 AWS 계정에서 호스팅되는 애플리케이션과 함께 메시지 또는 데이터를 수신 및 전송할 수 있도록 이 작업을 수행할 수 있습니다. VPC를 서로 연결하기 위한 아키텍처를 선택하고 솔루션을 비교하는 것도 중요합니다. 따라서 VPC peering, AWS Transit Gateway, AWS PrivateLink 및 AWS Managed VPN과 같은 서비스의 사용 사례, 요구 사항 및 제한 사항에 대해 알고 있어야 합니다.


- AWS 퍼블릭 서비스에 대한 연결을 최적화하는 데 적절한 기능을 선택합니다.

  - 연결을 생성하거나 퍼블릭 AWS 리소스에 요청을 보낼 수 있는 다양한 방법이 있으며 AWS에 대한 연결을 최적화하기 위해 적절한 기능을 선택할 수 있어야 합니다. 
  - 두 개의 서로 다른 리전에 호스팅된 웹 사이트가 있고 해당 웹 사이트에 액세스하는 최종 사용자와 지리적으로 가장 가까운 리전에 트래픽을 보내려고 한다고 가정해 보겠습니다. 트래픽을 올바른 리전으로 라우팅하는 데 사용할 AWS 서비스 또는 기능은 무엇입니까? 이것을 아는 열쇠는 Amazon Route 53이 어떻게 작동하는지, 다양한 라우팅 정책과 그들이 제공하는 사용 사례를 아는 것입니다. 이 예에서는 Amazon Route 53 지리 근접 라우팅 정책을 사용합니다. 이 시험을 준비할 때 Amazon Route 53을 자세히 살펴보는 것이 좋습니다.
  - 라우팅 정책 외에도 Amazon Route 53의 기능과 이를 사용하여 솔루션을 개발하는 방법을 확실히 이해하고 있어야 합니다. 여기에는 생성할 수 있는 레코드 유형과 일반적으로 Route 53을 사용해야 하는 이유에 대한 이해가 포함됩니다. 
  - 또한 애플리케이션의 네트워크 성능을 향상시킬 수 있고 네트워크 성능을 위해 AWS 솔루션을 최적화할 때 고려할 수 있는 서비스인 AWS Global Accelerator에 대해 알아보는 것이 좋습니다.

- 성능 이점을 제공하는 엣지 캐싱 전략을 결정합니다.
  네트워크 성능을 개선할 수 있는 또 다른 방법은 Amazon CloudFront와 같은 서비스를 사용하여 AWS 엣지 로케이션을 활용하여 최종 사용자에게 더 가까운 자산 캐싱을 고려하는 것입니다. Amazon CloudFront의 사용 사례와 작동 방식 및 사용 이점에 대한 심층적인 지식이 있어야 합니다.

  - 네트워크 성능에 대한 또 다른 주제는 데이터 마이그레이션 또는 수집을 위해(inject 영어표현다시봄)적절한 데이터 전송 서비스를 선택할 수 있어야 한다는 것입니다.
  - 적절한 솔루션을 선택할 수 있도록 여러 데이터 전송 서비스 또는 AWS로 데이터를 전송할 수 있는 방법에 대해 잘 알고 있어야 합니다.
  - AWS DataSync, AWS Snow Family, AWS Transfer Family, AWS Database Migration Service 및 기타 아키텍처를 편안하게 설계할 수 있는 기타가 있습니다. 데이터의 양, 데이터 유형, 데이터 마이그레이션의 소스 및 대상에 따라 하나의 서비스가 다른 서비스보다 더 적합할 수 있습니다. 따라서 데이터 전송 서비스와 마이그레이션 서비스 간의 기능 및 성능 차이를 아는 것이 중요합니다.

## 키워드

:::tip   Direct Connect vs AWS Managed VPN

하이브리드 모델을 따르는 것은 AWS와 함께 작업할 때 매우 일반적입니다. 즉, 회사에는 AWS에서 호스팅되는 솔루션과 함께 운영되는 온프레미스 데이터 센터가 있습니다. 온프레미스 데이터 센터와 AWS 리소스는 종종 시스템 간에 데이터와 메시지를 전송하기 위해 개인적으로 통신하는 방법이 필요합니다. AWS Managed VPN 또는 AWS Direct Connect와 같은 서비스를 사용하여 AWS 리소스를 온프레미스, 데이터 센터 리소스에 비공개로 연결할 수 있습니다. 
하이브리드 배포에 대한 데이터 볼륨, 규정 준수 표준 및 성능 요구 사항을 감안할 때 적절한 연결 옵션을 선택할 수 있어야 합니다.
VPN 또는 Direct Connect 연결 유형에 대한 사용 사례 간에 미묘한 차이가 있을 수 있습니다. 그리고 VPN 연결과 AWS Direct Connect 연결의 성능 및 처리량 기능에 익숙해져야 아키텍처 결정을 내릴 때 적절하게 비교하고 대조할 수 있습니다.
:::


::: tip 
* AWS DataSync:  온프레미스 스토리지 시스템 간 데이터 이동을 단순화, 자동화 및 가속화하는 온라인 데이터 전송 서비스입니다.AWS스토리지 서비스 및 그 사이AWS스토리지 서비스. DataSync다음 사이에 데이터를 복사할 수 있습니다
* AWS Snow Family :AWS Snow 패밀리는 네트워크에 대한 의존 없이 대량 데이터를 클라우드 안팎으로 마이그레이션할 수 있도록 지원하는 물리적 디바이스의 모음
* AWS Transfer
* Family AWS Database Migration Service
:::
::: tip AWS Managed VPN 또는 AWS Direct Connect

:::
::: tip ALB & NLB

- ALB : http 로드 밸런싱
- NLB : TCP/IP :

:::

스터디

- 1. AWS Managed VPN 와 AWS Direct Connect
- 온프레미스 - aws서비스 연결
  AWS Managed VPN : 인터넷이용, 느리다.
  AWS Direct Connect : 이더넷 광렌, 전용선 빠르다. 구축비용 크다.

- 2. AWS networking connectivity services
  - aws Managed VPC
  - AWX Dorect Connect
  * AWS Transit Gateway : 각 커넥션 상위 계층으로 모든걸 관리하는 역할??,
    Transit Gateway는 Virtual Private Cloud(VPC)와 온프레미스 네트워크 간의 트래픽에 대한 리전별 가상 라우터 역할을 합니다
  * AWS VPN CloudHub
    : VPN만 가능
    : 일대다만 가능 (온프레미스 다.
    )
    : 허브앤 스포크
    : 여러 지점과 기존 인터넷 연결이 있고 이러한 원격 사무실 간의 기본 또는 백업 연결을 위해 잠재적으로 저렴한 허브 및 스포크 모델을 구현하려는 경우 이 접근 방식을 사용하십시오.

* 3. Connectivity beetween VPCs
     VPC peering,  
     AWS Transit Gateway,  
     AWS PrivateLink : 내가통제하지 않는 aws 서비스를 붙일 때account
     AWS Managed VPN
* Hub and Spoke


## Question

한 대규모 국제 회사에 AWS Organizations에 관리 계정이 있고 그들이 운영하는 각 국가에 대해 50개 이상의 개별 계정이 있습니다. 각 국가 계정에는 기능 부서용으로 설정된 VPC가 4개 이상 있습니다. 계정 간에 높은 신뢰가 있고 모든 VPC 간의 통신이 허용되어야 합니다. 전체 글로벌 조직의 각 개별 VPC는 ​​계정과 다른 모든 계정에 공유 서비스를 제공하는 VPC에 액세스해야 합니다. 구성원 계정이 운영 오버헤드를 최소화하면서 공유 서비스 VPC에 액세스하려면 어떻게 해야 합니까?

A. 공유 서비스 VPC의 프라이빗 IP 주소 대상으로 Application Load Balancer를 생성합니다. ALB에 대한 인증 기관 권한 부여 레코드를 Route 53에 추가합니다. 공유 서비스에 대한 모든 요청을 해당 CAA 레코드에 대한 VPC 라우팅 테이블로 지정합니다.  
B. 각 VPC와 공유 서비스 VPC 간에 피어링 연결을 생성합니다.  
C. 공유 서비스 VPC의 AZ에 걸쳐 Network Load Balancer를 생성합니다. IAM에서 서비스 소비자 역할을 생성하고 엔드포인트 연결 수락을 자동 수락으로 설정합니다. 각 디비전 VPC에 소비자 엔드포인트를 생성하고 NLB를 가리킵니다.  
D. 각 VPC와 공유 서비스 VPC 간에 VPN 연결을 생성합니다.   

---
* 문제 분석   
  1) 50개가 넘는 여러 AWS 계정이 있습니다. 
  2) 이러한 계정의 VPC가 공유 서비스 계정의 리소스에 액세스해야 합니다.
  3) AWS 계정이 가장 적은 운영 오버헤드로 서비스 VPC에 액세스해야 합니다.  
  
* 정답 C  
  * VPC 피어링을 사용하는 것보다 AWS PrivateLink 연결을 설정하는 것이 더 적절하다는 것을 알아야 합니다. 하나 이상의 소비자 VPC가(service-provider)서비스 제공자 VPC의 특정 서비스 또는 인스턴스 세트에 단방향 액세스를 허용하려는 클라이언트-서버 설정이 있는 경우 AWS PrivateLink를 사용합니다. 문제의 시나리오 설정에는 공유 서비스에 액세스해야 하는 여러 소비자가 있으므로 사용 사례가 적합합니다.
  * PrivateLink 연결을 설정하는 방법을 알아야 합니다.
    1. Network Load Balancer를 생성하고
    2. IAM에서 서비스 소비자 역할을 생성하고,
    3. 공유 서비스 VPC에서 엔드포인트 연결을 설정하고, 자동 수락으로 설정하고
    4. 공유 액세스를 시도하는 각 VPC에서 소비자 엔드포인트를 생성합니다.
    5. VPC를 선택한 다음 공유 서비스 VPC의 NLB를 가리킵니다. 이것이 VPC 간에 PrivateLink 연결을 설정하는 방법입니다.

* 오답 이유  
  * A. 이 대답은 거의 실현 가능한 것처럼 보이지만 CAA 레코드는 도메인 또는 하위 도메인에 대한 인증서를 발급할 수 있는 인증 기관을 지정합니다. 따라서 이러한 유형의 기록은 이 시나리오에서 실제로 도움이 되지 않으므로 답이 아닙니다.

  * B. 이 응답은 VPC가 연결할 수 있는 간단한 솔루션입니다. 그러나 VPC 피어링 연결은 피어링 연결 수에 제한이 있습니다. 하나의 VPC는 ​​최대 125개의 피어링 연결을 허용할 수 있습니다. 그리고 질문을 보면 계정당 4개의 VPC가 있는 50개가 넘는 계정이 있음을 알 수 있습니다. 이렇게 하면 필요한 피어링 연결 수가 125개가 넘으므로 공유 서비스 VPC가 이러한 피어링 연결 요청을 모두 수락할 수 없습니다. 

  * D. 모든 VPC 간에 VPN 연결을 생성하고 관리할 수 있어서 기술적으로 아무런 문제가 없지만 이러한 모든 VPN 연결을 유지 관리하고 운영해야 하므로 PrivateLink 연결을 다음과 같이 설정하는 것보다 운영 오버헤드가 더 큽니다. 


VPC 간에 연결을 설정하는 방법을 더 자세히 알아야합니다. 또한 매우 일반적인 공유 서비스 VPC가 있는 시나리오를 포함하여 다중 계정 설정을 위한 네트워킹 전략을 설계하는 방법도 알고 있어야 합니다.


