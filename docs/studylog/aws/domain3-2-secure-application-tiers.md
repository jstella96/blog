---
order: 32
icon: creative
title: 3-2 보안 애플리케이션 계층 설계
category: 
  - Aws
tag: 
  - SAA-C02 자격증
editLink: false
---
Domain 3 : 안전한 애플리케이션 및 아키텍처 설계(Design Secure Applications And Architectures) part 2
  
AWS-SAA 자격증 항목을 기준으로 AWS를 공부 합니다. 각 항목의 의미를 살펴보고 중점사항을 파악하는 것을 목표로 합니다.각 항목별 이론/실습으로 학습합니다.

::: details 상세 영역 ( 출처: aws certification 홈페이지 )

* 3.1 AWS 리소스에 대한 보안 액세스 설계 
  * 사용자, 그룹, 역할 간에 선택할 시점을 결정합니다.
  * 지정된 액세스 정책의 순 효과를 해석합니다.
  * 루트 계정을 보호하는 데 적절한 기술을 선택합니다.
  * AWS IAM 의 기능을 사용하여 자격 증명을 보호하는 방법을 결정합니다.
  * 애플리케이션이 AWS API 에 액세스할 수 있는 안전한 방법을 결정합니다.
  * AWS 리소스에 대한 액세스 추적 가능성을 생성하는 데 적절한 서비스를 선택합니다.
* 3.2 보안 애플리케이션 계층 설계 👈👈👈👈👈 **지금 여기**
  * 주어진 트래픽 제어 요구 사항에 따라 보안 그룹 및 네트워크 ACL 을 사용할 시점 및 방법을
  결정합니다.
  * 퍼블릭 서브넷과 프라이빗 서브넷을 사용하여 네트워크 세분화 전략을 결정합니다.
  * Amazon VPC 에서 AWS 서비스 엔드포인트 또는 인터넷 기반 리소스에 안전하게
  액세스하는 데 적절한 라우팅 메커니즘을 선택합니다.
  * 외부 위협으로부터 애플리케이션을 보호하는 데 적절한 AWS 서비스를 선택합니다.
* 3.3 적절한 데이터 보안 옵션 선택
  * 액세스 패턴을 기반으로 개체에 적용해야 하는 정책을 결정합니다.
  * AWS 서비스의 저장 데이터 및 전송 중 데이터에 적절한 암호화 옵션을 선택합니다.
  * 요구 사항에 따라 적절한 키 관리 옵션을 선택합니다. 

:::



## 주요관점

**세부영역**

- 주어진 트래픽 제어 요구 사항에 따라 보안 그룹 및 네트워크 ACL 을 사용할 시점 및 방법을
  결정합니다.

  - 대부분의 애플리케이션 아키텍처는 다중 계층이 될 가능성이 높습니다. 모든 수준에서 보안을 고려해야 하며, 애플리케이션 계층 보안에 대해 공부할 때 보안 그룹 및 네트워크 ACL의 사용과 기능에 상당한 주의를 기울여야 합니다. 트래픽 제어 요구 - 사항에 대해 관리를 제공하고 필요한 규칙, 제한 및 허용치를 크게 세분할 수 있습니다.
  - 함께 또는 개별적으로 작동하는 방식을 이해합니다. 또한 규칙을 작성하는 방법, 피해야 할 함정, 규칙 처리 논리 및 더 나은 결합 기능을 위해 사용할 방법을 이해하십시오.

- 퍼블릭 서브넷과 프라이빗 서브넷을 사용하여 네트워크 세분화 전략을 결정합니다.

  네트워크 세분화도 중요합니다. 퍼블릭 서브넷과 프라이빗 서브넷을 사용하는 시기 이면의 전략, 퍼블릭 서브넷과 프라이빗 서브넷의 차이점, 이러한 서브넷 사용에 대한 일반적인 관행을 이해하십시오. 서브넷 포커스는 여기서 끝나지 않습니다. 또한 VPC 내의 라우팅 메커니즘을 이해해야 합니다. 예, 여기에는 라우팅 테이블의 구현, 사용 및 기능이 포함되지만 AWS 서비스 엔드포인트, VPN 연결 및 기타 네트워크 연결 도구와 같은 기타 구성 요소를 적절하게 선택하고 배포하는 방법도 알아야 합니다. 배포된 VPC에 일반적으로 사용되는 방법입니다.

- Amazon VPC 에서 AWS 서비스 엔드포인트 또는 인터넷 기반 리소스에 안전하게
  액세스하는 데 적절한 라우팅 메커니즘을 선택합니다.
  물론 배포와 사용이 중요한 주제이겠지만 이 영역은 보안에 관한 것입니다. 이러한 네트워킹 계층에 대한 보안을 어떻게 구축합니까? 이러한 계층에서 애플리케이션 사용을 어떻게 보호합니까? 그리고 이러한 보안 구성 요소의 관리는 어떤 모습입니까?

  이러한 주제를 단독으로 공부하기는 어렵습니다. 보안 그룹 및 네트워크 ACL의 사용을 이해하려면 공용 및 사설 서브넷의 사용을 이해해야 합니다. 퍼블릭 및 프라이빗 서브넷을 이해하려면 라우팅 메커니즘과 서브넷에서 이를 활용하는 방법에 대해 알아야 합니다. 예를 들어, 특정 유형의 트래픽이 애플리케이션 서버에 액세스하도록 허용해야 하지만 트래픽이 온프레미스 위치에서 와서 VPN을 통과하고 애플리케이션 서버가 프라이빗 서브넷에 있는 경우 어떻게 하시겠습니까? 설정해? 애플리케이션 서버가 공용 인터넷에서 오는 액세스로부터 안전하지만 VPN을 통해 연결된 온프레미스에서 오는 요청의 VPC, 서브넷 또는 인스턴스 수준에 문제가 없도록 하려면 무엇을 할 수 있습니까? .

- 외부 위협으로부터 애플리케이션을 보호하는 데 적절한 AWS 서비스를 선택합니다.

  마지막 주제는 외부 위협으로부터 애플리케이션을 보호하기 위해 적절한 AWS 서비스를 선택하는 것입니다. 기본적으로 애플리케이션을 대상으로 할 수 있는 다양한 유형의 공격을 완화하고 방지하기 위해 어떤 서비스를 사용할 수 있습니까? 어떤 관리 옵션이 있습니까? 보안 서비스는 허용될 수 있는 트래픽 유형에 대해 어떤 제어를 제공합니까? 애플리케이션에 대한 트래픽 흐름의 어느 지점에 서비스가 배치됩니까? 엣지 로케이션과 VPC 내에서 작동하는 것은 무엇입니까? 이러한 서비스에 대한 일반적인 이해는 시험에서 마주하게 될 시나리오에서 이러한 서비스가 어떻게 배포되는지 아는 데 중요합니다

모든 수준에서 보안에 대해 계속 공부하십시오. 그리고 모든 것이 연결되어 있음을 기억하십시오.
::: tip
stateless :
stateful :
networkACL: 들어오는거 나가는거 둘다
securgroup :
:::

## 키워드

## Question

Q. 솔루션 설계자는 VPC의 Amazon EC2 인스턴스에 배포되는 AWS 리소스에 대한 보안 환경을 설계해야 합니다. 솔루션은 웹 서버, 애플리케이션 서버 및 데이터베이스 클러스터로 구성된 3계층 아키텍처를 지원해야 합니다. VPC는 HTTPS 프로토콜을 통해서만 인터넷에서 웹 계층의 리소스에 액세스할 수 있도록 허용해야 합니다. 이러한 요구 사항을 충족하는 작업 조합은 무엇입니까? (2가지 응답.)

A, Amazon API Gateway를 VPC에 연결하고 웹 애플리케이션 및 데이터베이스 계층에 대한 프라이빗 서브넷을 생성합니다.
B, 인터넷 게이트웨이를 VPC에 연결합니다. 웹 계층에 대한 퍼블릭 서브넷을 생성하고 애플리케이션 및 데이터베이스 계층에 대한 프라이빗 서브넷을 생성합니다.
C, 가상 프라이빗 게이트웨이를 VPC에 연결합니다. 웹 및 애플리케이션 계층에 대한 퍼블릭 서브넷을 생성하고 데이터베이스 계층에 대한 프라이빗 서브넷을 생성합니다.
D, 인터넷의 모든 트래픽을 허용하는 웹 서버 보안 그룹을 만듭니다. 애플리케이션 포트에서 Amazon API Gateway의 요청만 허용하는 애플리케이션 보안 그룹을 생성하고, 데이터베이스 포트에서만 애플리케이션 보안 그룹의 TCP 연결을 허용하는 데이터베이스 클러스터 보안 그룹을 생성합니다.

E, 인터넷에서 HTTPS 요청을 허용하는 웹 서버 보안 그룹을 생성합니다. 웹 보안 그룹의 요청만 허용하는 애플리케이션 서버 보안 그룹을 생성하고, 데이터베이스 포트에서만 애플리케이션 보안 그룹의 TCP 연결을 허용하는 데이터베이스 클러스터 보안 그룹을 생성한다.
:::
VPC.VPN
:::

여기서 질문은 요구 사항을 충족하는 작업 조합에 대한 것이며 응답 중 두 가지를 선택하기를 원합니다. 요구 사항은 무엇입니까? 글쎄요, 환경이 안전해야 하고 웹 및 애플리케이션 서버와 데이터베이스 클러스터를 사용하여 3계층 아키텍처가 지원되어야 하며 웹 계층은 인터넷에서 액세스할 수 있어야 하지만 HTTPS로만 가능해야 합니다. 옵션은 무엇입니까?

웹 보안 그룹의 요청만 허용하는 애플리케이션 서버 보안 그룹을 생성하고, 데이터베이스 포트에서만 애플리케이션 보안 그룹의 TCP 연결을 허용하는 데이터베이스 클러스터 보안 그룹을 생성한다. 명시된 요구 사항을 모두 충족하는 작업을 조합하려면 두 가지 응답을 찾아야 한다는 점을 기억하십시오. 시간을 좀 드리겠습니다. 가세요.

이에 대한 키는 응답 B 및 E입니다. 응답 B를 사용하면 웹 계층에 공개적으로 액세스할 수 있는 동시에 애플리케이션 및 데이터베이스 계층을 비공개로 유지할 수 있습니다. 그리고 응답 E는 이러한 각 계층에 액세스할 수 있는 트래픽의 유형과 출처를 지정합니다.

웹 서비스는 필수 HTTPS 요청을 수락할 수 있습니다. 애플리케이션 서버는 웹 서버의 요청만 수락하고 데이터베이스 계층은 애플리케이션 서버의 트래픽만 허용합니다. 그러나 나는 당신이 내 말을 받아들이기를 원하지 않습니다. 다른 옵션을 통해 당신을 데려가도록 허용하십시오. 응답 A의 경우 이 솔루션은 요구 사항을 충족하지 않습니다. API Gateway는 API의 생성, 관리, 보안을 위한 것으로 웹 티어에 대한 접근성을 제공하는 옵션은 없습니다. 응답 C는 VPN 연결을 위해 특별히 활용되는 VGW의 사용을 제안합니다. 이것은 웹 계층이 인터넷에서 액세스할 수 있는 방법을 제공하지만 애플리케이션 계층을 보호하지는 않습니다. 그리고 응답 D는 언뜻 보기에는 E와 매우 유사해 보이지만 더 깊이 들여다보면 응답이 또 다른 주의를 산만하게 한다는 것을 알 수 있습니다. 제안된 보안 그룹은 요구 사항의 요청보다 더 열려 있습니다. 애플리케이션 보안 그룹은 API Gateway를 다시 활용하려고 하며 앞서 말씀드린 것처럼 이 서비스는 요구 사항에 대한 솔루션이 아닙니다. 따라서 보시다시피 최상의 조합과 실행 가능한 솔루션을 제공하는 유일한 조합은 응답 B와 E입니다. 다음 시간까지.

