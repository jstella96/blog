---
order: 42
icon: creative
title: 4-2 비용 효율적인 컴퓨팅 및 데이터베이스 서비스 식별
category: 
  - Aws
tag: 
  - SAA-C02 자격증
editLink: false
---

AWS-SAA 자격증 항목을 기준으로 AWS를 공부 합니다. 각 항목의 의미를 살펴보고 중점사항을 파악하는 것을 목표로 합니다.각 항목별 이론/실습으로 학습합니다.

::: details 상세 영역 ( 출처: aws certification 홈페이지 )

* 4.1 비용 효율적인 스토리지 솔루션 식별 
  * 요구 사항에 따라 가장 비용 효율적인 데이터 스토리지 옵션을 결정합니다.
  * 비용을 최소화하기 위해 시간 경과에 따라 데이터를 스토리지 계층에 저장하는 자동화된
프로세스를 적용합니다.

* 4.2 비용 효율적인 컴퓨팅 및 데이터베이스 서비스 식별 👈👈👈👈👈 **지금 여기**
  * 워크로드의 각 측면에 대해 가장 비용 효율적인 Amazon EC2 결제 옵션을 결정합니다.
  * 요구 사항에 따라 가장 비용 효율적인 데이터베이스 옵션을 결정합니다.
  * 비용 관점에서 적절한 조정 전략을 선택합니다.
  * 워크로드에 가장 적합한 컴퓨팅 리소스를 선택하고 크기를 조정합니다.
  * 관리형 서비스 및 서버리스 아키텍처를 통해 TCO(총 소유 비용)를 최소화하는 옵션을
결정합니다.

* 4.3 비용에 최적화된 네트워크 아키텍처 설계
  * 비용을 절감하기 위해 콘텐츠 전송을 사용할 수 있는 시점을 파악합니다.
  * AWS 내에서 데이터 전송 비용을 절감하기 위한 전략을 결정합니다.
  * AWS 환경과 온프레미스 환경 간에 가장 비용 효율적인 연결 옵션을 결정합니다.

:::

## Domain 4 : 비용에 최적화된 아키텍처 설계
## 비용 효율적인 컴퓨팅 및 데이터베이스 서비스 식별

**세부항목**

- 워크로드의 각 측면에 대해 가장 비용 효율적인 Amazon EC2 결제 옵션을 결정합니다.
- 요구 사항에 따라 가장 비용 효율적인 데이터베이스 옵션을 결정합니다.
- 비용 관점에서 적절한 조정 전략을 선택합니다.
- 워크로드에 가장 적합한 컴퓨팅 리소스를 선택하고 크기를 조정합니다.
- 관리형 서비스 및 서버리스 아키텍처를 통해 TCO(총 소유 비용)를 최소화하는 옵션을
  결정합니다.

다음으로 비용 효율적인 컴퓨팅 및 데이터베이스 서비스를 식별합니다. Amazon EC2에는 여러 가지 다양한 요금 옵션이 있습니다. EC2 인스턴스에는 온디맨드(이발), 예약, 전용 및 스팟 요금이 있습니다. 그런 다음 Amazon EC2 인스턴스뿐만 아니라 다른 컴퓨팅 서비스에도 적용할 수 있는 Savings Plans가 있습니다. 이러한 각 가격 책정 모델은 비용에 서로 다른 영향을 미치며 특정 시나리오에서 가장 잘 사용됩니다.

시간이 지남에 따라 사용량이 일정하고 하루 종일 사용량이 약간 급증하지만 실제로는 특정 사용량 수준 아래로 떨어지지 않는 컴퓨팅 워크로드에 가장 적합한 가격 책정 모델을 파악하려고 한다고 가정해 보겠습니다. 온디맨드, 예약 또는 스팟 중 이 시나리오에 가장 비용 효율적인 가격 책정 모델은 무엇입니까? 이 경우 시간이 지남에 따라 일정 수준의 일관된 사용량이 있다는 것을 알고 예약 인스턴스를 사용하여 이 일관된 사용량에 대해 할인된 청구 요금을 받을 수 있기 때문에 예약 인스턴스를 선택하겠습니다. 또한 온디맨드 인스턴스를 사용하여 급증하는 사용량을 처리한 다음 스팟을 사용하여 오래 지속되지 않는 사용량의 정점을 처리할 수도 있습니다. 이는 가격 책정에 대한 혼합 접근 방식으로, 워크로드 확장에 대한 비용 최적화 접근 방식을 제공합니다. 각 Amazon EC2 요금 모델이 비용에 미치는 영향을 잘 이해하면 시험을 준비하는 데 도움이 될 수 있습니다. 예약 인스턴스는 Amazon RDS 데이터베이스 인스턴스에도 사용할 수 있으므로 추가 비용 최적화가 가능하다는 점을 기억하는 것도 중요합니다.

EC2의 요금 모델 외에도 비용 최적화를 위해 인스턴스 크기와 제품군을 고려해야 합니다. 적절한 크기 조정이라는 개념은 워크로드의 요구 사항을 충족하는 인스턴스 유형을 선택한 다음 적절한 인스턴스 크기를 선택하는 것을 의미합니다. 이를 위해서는 시간 경과에 따른 인스턴스 사용률을 확인할 수 있도록 모니터링이 필요합니다. 그리고 이러한 인스턴스의 사용률이 매우 낮은 경우 더 작은 인스턴스 크기로 변경할 수 있는 옵션이 있으므로 AWS 청구서 비용을 절약할 수 있습니다. 예를 들어 Amazon RDS와 같은 일부 데이터베이스 서비스를 사용하면 인스턴스 크기를 선택할 수 있으므로 리소스 크기를 적절하게 조정한다는 아이디어는 컴퓨팅 및 데이터베이스에 적용됩니다. 컴퓨팅 및 데이터베이스 비용을 최적화하는 또 다른 방법은 주어진 시나리오에서 적절한 확장 전략을 선택하는 것입니다. 예를 들어 높은 CPU 사용률로 인해 성능 문제가 발생하는 데이터베이스가 있을 수 있습니다. 이 경우 인스턴스에 대한 읽기 요청이 많은 기간이 있을 수 있습니다. 확장하기 위해 인스턴스 크기를 늘릴 수 있습니다. 그러나 이는 데이터베이스와 관련된 비용을 증가시킵니다. 따라서 비용을 최적화하기 위해 읽기 요청의 일부를 흡수하고 데이터베이스 인스턴스의 요청을 오프로드하는 데 도움이 되도록 읽기 전용 복제본 또는 일종의 캐시를 추가하는 것을 대신 고려할 수 있습니다. 이를 통해 성능 요구 사항을 충족하는 동시에 비용을 최적화할 수 있습니다. 읽기 전용 복제본을 도입하는 것이 데이터베이스 인스턴스를 확장하는 것보다 비용 효율적일 수 있기 때문입니다. 스토리지 Auto Scaling을 사용하여 Amazon RDS 데이터베이스의 스토리지 크기를 적절하게 조정할 수도 있습니다. 조정과 관련하여 이러한 종류의 결정을 내리려면 AWS 데이터베이스 서비스와 AWS 컴퓨팅 서비스 모두에 존재하는 다양한 조정 메커니즘에 대한 깊은 지식이 있어야 합니다. 따라서 여기에 공백이 있는 경우 관련 서비스에 대한 설명서를 읽는 것이 좋습니다.

비용을 최적화하는 또 다른 방법은 사용 사례에 맞는 올바른 데이터베이스 서비스를 선택하는 것입니다. 예를 들어 사용 사례 및 사용 패턴에 따라 Amazon Aurora보다 Amazon Aurora Serverless를 사용하는 것이 더 비용 효율적일 수 있습니다. 모두 사용 사례에 따라 다르므로 각 데이터베이스와 해당 사용 사례를 잘 아는 것이 중요합니다. 이제 컴퓨팅 및 데이터베이스의 비용 최적화를 위한 마지막 팁은 가능한 경우 관리형 서비스를 사용하는 것입니다. 클라우드에서 관리형 서비스는 애플리케이션 실행 또는 데이터베이스 관리와 같은 작업을 위해 서버를 유지 관리하는 운영 부담을 제거합니다. 그리고 관리형 서비스는 클라우드 규모에서 운영되기 때문에 트랜잭션 또는 서비스당 더 낮은 비용을 제공할 수 있습니다. 즉, 컨테이너용 AWS Fargate, 서버리스 컴퓨팅용 AWS Lambda 또는 데이터베이스용 Amazon DynamoDB와 같은 관리형 서비스 사용을 고려해야 합니다. AWS 청구서에 비용이 조금 더 들 수 있는 서비스의 경우에도 이러한 관리형 서비스는 DBA와 시스템 관리자가 일상적인 작업에 시간을 보내는 대신 백업 및 복구와 같은 핵심 비즈니스 및 개발에 집중할 수 있도록 합니다. 

## 키워드
::: tip
확장 메커니즘, DDoS 보호 메커니즘 및 관련된 모든 서비스의 가격 책정에 대해 읽어보자
:::
## Question

한 신생 기업이 인프라 관리의 운영 오버헤드 없이 마이크로서비스를 비용 효율적으로 실행하고 액세스할 수 있는 솔루션을 찾고 있습니다. 솔루션은 요청 볼륨의 급격한 변화를 수용하고 일반적인 DDoS 공격으로부터 보호할 수 있도록 신속하게 확장할 수 있어야 합니다. 이러한 요구 사항을 충족하는 가장 비용 효율적인 솔루션은 무엇입니까?

A. Run the microservices in containers using AWS Elastic Beanstalk.  
-AWS Elastic Beanstalk를 사용하여 컨테이너에서 마이크로서비스를 실행합니다.  
B. Run the microservices in AWS Lambda behind an Amazon API Gateway.  
-Amazon API Gateway 뒤에서 AWS Lambda에서 마이크로서비스를 실행합니다.   
C. Run the microservices on Amazon EC2 instances in an Auto Scaling group.  
-Auto Scaling 그룹의 Amazon EC2 인스턴스에서 마이크로서비스를 실행합니다.
D. Run the microservices in containers using Amazon Elastic Container Service backed by EC2 instances.  
-EC2 인스턴스가 지원하는 Amazon Elastic Container Service를 사용하여 컨테이너에서 마이크로서비스를 실행합니다.  

--- 

* 문제 분석 
1) 회사가 마이크로서비스를 실행하고 있습니다.  
2) 인프라 관리 오버헤드 없이 마이크로서비스를 실행하는 방법을 찾고 있습니다.   
3) 솔루션이 빠르게 확장되고 DDoS로부터 보호해야 합니다.  
4) 회사가 가장 비용 효율적인 솔루션을 찾고 있습니다.  

* 정답 B
  *  AWS Lambda는 서버리스 서비스이기 때문에 인프라 관리의 운영 오버헤드 없이 백엔드 마이크로서비스를 호스팅할 수 있는 훌륭한 솔루션입니다. 따라서 이 솔루션은 이러한 요구 사항을 충족합니다. 
  *  API Gateway 및 AWS Lambda는 확장을 관리할 필요 없이 요청 볼륨의 급격한 변화에 맞게 확장할 수 있습니다. 확장 메커니즘이 내장되어 있고 매우 빠르므로 이러한 요구 사항도 충족합니다.
  * DDoS 방어에 대해 생각해야 합니다. API 게이트웨이와 람다 서비스는 모두 대규모 확장 기능을 갖춘 관리형 서비스입니다. 따라서 이러한 서비스를 압도하는 것은 실제로 매우 어렵습니다. 
  * 또한 API Gateway를 사용하면 생성하는 각 메서드에 대해 조절할 수 있습니다. 이렇게 하면 백엔드에 요청이 넘쳐나지 않습니다. 대신 API 게이트웨이 수준에서 삭제됩니다. 또한 API Gateway는 계층 7인 위조 요청으로 공격을 받든 분산 서비스 거부 공격 또는 DDoS 공격으로부터 백엔드 시스템을 자동으로 보호합니다.
  * API Gateway와 Lambda는 모두 서버리스 서비스이므로 유휴 리소스에 대해 비용을 지불하지 않습니다. 따라서 요구 사항과 요청 볼륨의 급격한 증가 및 감소를 감안할 때 때때로 하는 것처럼 유휴 리소스에 대해 비용을 지불하지 않고 주어진 시간에 사용한 만큼만 비용을 지불하고 있음을 확신할 수 있습니다.
  이것이 비용 효율적인 솔루션입니다.

* 오답이유
  * A, 이 답변은 몇 가지 이유 때문에 답이 될 수 없습니다. 그 중 하나는 빠른 확장 요구 사항입니다. AWS Elastic Beanstalk를 사용하면 Elastic Load Balancer가 전면에 있는 Auto Scaling 그룹 내부의 Amazon EC2 인스턴스에서 애플리케이션을 정말 쉽게 호스팅할 수 있습니다. 이 솔루션은 확장 가능하지만 조정 이벤트가 발생할 때 Amazon EC2 인스턴스를 부팅해야 하므로 조정이 발생하는 데 몇 분 정도 걸릴 수 있습니다. 
  솔루션이 잘못된 다음 이유는 가장 비용 효율적인 솔루션이 아니기 때문입니다. EC2 기반 서비스이므로 볼륨이 낮은 동안 리소스가 유휴 상태로 있을 수 있지만 여전히 비용이 발생합니다. 즉, AWS Lambda보다 비용 효율적인 솔루션입니다. 
  * C, 이것은 AWS Elastic Beanstalk와 같은 이유로 올바르지 않습니다. 이것은 빠르게 확장되지 않으며 잠재적으로 유휴 리소스의 문제도 있습니다. 따라서 이 답변은 잘못된 것입니다. 
  * D, 마이크로 서비스가 컨테이너에 있기 때문에 개별 서비스에 대한 확장은 매우 빠릅니다. 그러나 요청 볼륨이 크게 변경될 가능성이 있는 클러스터를 확장해야 하는 경우 클러스터를 확장하는 데 몇 분이 걸립니다. 이것은 요구 사항에 충분히 빠르지 않습니다. 이 솔루션은 또한 Amazon EC2 기반 서비스이기 때문에 리소스를 유휴 상태로 만들 가능성이 동일합니다. 즉, API Gateway 및 AWS Lambda만큼 비용 효율적이지 않습니다. 
  
  