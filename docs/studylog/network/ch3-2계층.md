---
index: 3
icon: creative
title: 2계층 Ethernet
category:
  - Network
tag: 
  - 네트워크   
editLink: false
---

:::tip GOAL
Q. 2계층에서 하는 일은?   
Q. MAC주소란?     
Q. Ethernet 프로토콜은?  
:::
해당페이지는 2022년 3월 노션에서 마이그레이션 되었습니다.  

## 2계층 기능

- 2계층에서 하는 일
  2계층은 하나의 네트워크 대역 즉, 같은 네트워크 상에
  존재하는 여러 장비들 중에서 어떤 장비가 어떤 장비에게 보내는 데이터를 전달한다.
  대표적인 장비로는 스위치가 있다.
  추가적으로 오류제어, 흐름제어를 수행한다.

- 2계층의 네트워크 통신범위   
  2계층은 하나의 네트워크 대역 LAN에서만 통신할 때 사용한다. 다른 네트워크와 통신할 때는
  항상 3계층이 도와주어야 한다. 3계층의 주소와 3계층의 프로토콜을 이용하여야만 다른 네트워크와 통신이 가능하다

## 2계층에서 사용하는 주소

MAC 주소: LAN에서 통신할 때 사용하는 주소, 물리적인 장비가 부여받은 주소이기 때문에 물리적인 주소라고도 부른다.
OUI와 고유번호로 이루어져있다. 6Byte의 크기를 가진다.

*OUI : IEEE에서 부여하는 일종의 제조회사 식별 ID  
*고유번호 : 제조사에서 부여한 고유번호

## 2계층 프로토콜 : Ethernet

- LAN에서 통신할 때 사용하는 Ethernet 프로토콜
  ![EthernetHeader](./img/EthernetHeader.png)
  **빨간선이 그어져있는 부분만 중점적으로 보면된다. 총 14Byte**  
  * DATA: Ethernet 프로토콜 입장에서 페이로드.  
  * Destination Address(6Byte): 목적지 MAC 주소   
  * Source Address(6Byte): 출발지 MAC 주소   
  * Ethernet Type(2Byte): 데이터(페이로드)안에 상위 프로토콜(3계층) 내용이 있을 텐데 상위 프로토콜에 어떤 프로토콜이 있는지 미리 알려주는 것 IPv4가 오면 0 8 0 0 ARP 가오면 0 8 0 6이 온다.

## 실습

1. 내 pc의 MAC주소 확인해보기  
   cmd 창을 켜서 `ipconfig /all`을 치면 확인가능하다.  
   ![mac-address](./img/3-mac-address.png)
 
2. Ethernet 프로토콜 캡쳐 하고 분석   
   cmd 창에서 `ping [같은 네트워크 대역의 ip주소]` 한 후 캡처.  
   ![mac-address](./img/3-ethernet.png)
   내가 같은 네트워크 대역의 다른 IP로 ping요청을 보내서 상대방 IP에서 나에게 보낸 패킷.
   앞의 6Byte는 목적지 MAC 주소(나의 MAC주소) 그 다음 6Byte는 상대방의 MAC주소 
   마지막 2Byte 상위프로토콜 타입 0800이면 IPv4이다.
   이렇게 Ethernet 프로토콜은 총 14Byte이다.

프로토콜은 일종의 약속이다. 라는 말이 무슨말인지 와닿지 않았었는데 직접 프로토콜의 구조를 보니까 한번에 이해가 된다. 이래서 약속이구나! 프로토콜 분석하는거 재밌다!:woman_dancing:


## Reference
[따라하며 배우는 IT - 네트워크 기초(YouTube)](https://www.youtube.com/playlist?list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi)
