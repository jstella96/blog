<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display&family=Noto+Sans+KR&display=swap"><link rel="icon" href="/blog/myLogo.png"><title>스트림처리 | J.Stella Blog</title><meta name="description" content="J.Stella Blog">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.01d97fbd.css">
    <link rel="modulepreload" href="/blog/assets/app.d6b42b88.js"><link rel="modulepreload" href="/blog/assets/ch11-stream-processing.html.f8ef3bb7.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog/assets/ch11-stream-processing.html.63d35a98.js"><link rel="prefetch" href="/blog/assets/index.html.54371a3e.js"><link rel="prefetch" href="/blog/assets/index.html.511467ef.js"><link rel="prefetch" href="/blog/assets/index.html.b544d29e.js"><link rel="prefetch" href="/blog/assets/index.html.426e1352.js"><link rel="prefetch" href="/blog/assets/index.html.11eb1968.js"><link rel="prefetch" href="/blog/assets/index.html.e3b3673d.js"><link rel="prefetch" href="/blog/assets/index.html.7b18e8dc.js"><link rel="prefetch" href="/blog/assets/algorithm.html.c4a667fc.js"><link rel="prefetch" href="/blog/assets/linear.html.c28bd305.js"><link rel="prefetch" href="/blog/assets/non-linear.html.353b12d6.js"><link rel="prefetch" href="/blog/assets/index.html.3203f3a7.js"><link rel="prefetch" href="/blog/assets/domain1-1-multi-tier-solutions.html.c71bce59.js"><link rel="prefetch" href="/blog/assets/domain1-2-high-availability-and-fault-tolerance .html.bf59fe4e.js"><link rel="prefetch" href="/blog/assets/domain1-3-decoupling-mechanisms.html.1daaaa5d.js"><link rel="prefetch" href="/blog/assets/domain1-4-resilient-storage.html.c8ae29ff.js"><link rel="prefetch" href="/blog/assets/domain1-Exercise.html.d142f89c.js"><link rel="prefetch" href="/blog/assets/domain2-1-elastic-and-scalable-compute-solutions-for-a-workload.html.7a8a01f9.js"><link rel="prefetch" href="/blog/assets/domain2-2-high-performing-and-scalable-storage-solutions-for-a-workload.html.1a629b13.js"><link rel="prefetch" href="/blog/assets/domain2-3-high-performing-networking-solutions-for-a-workload.html.57aef188.js"><link rel="prefetch" href="/blog/assets/domain2-4-high-performing-database-solutions-for-a-workload.html.0487f317.js"><link rel="prefetch" href="/blog/assets/domain2-Exercise.html.a8d587b3.js"><link rel="prefetch" href="/blog/assets/domain3-1-secure-resource-access.html.a43c76a4.js"><link rel="prefetch" href="/blog/assets/domain3-2-secure-application-tiers.html.eeeae4cd.js"><link rel="prefetch" href="/blog/assets/domain3-3-data-security-options.html.3ce4df0c.js"><link rel="prefetch" href="/blog/assets/domain3-Exercise.html.70fd3284.js"><link rel="prefetch" href="/blog/assets/domain4-1-cost-effective-storage-solutions.html.011b317a.js"><link rel="prefetch" href="/blog/assets/domain4-2-cost-effective-compute-and-database-services.html.99e8eb1c.js"><link rel="prefetch" href="/blog/assets/domain4-3-cost-optimized-network-architectures.html.fdc5bb83.js"><link rel="prefetch" href="/blog/assets/domain4-Exercise.html.2863bf14.js"><link rel="prefetch" href="/blog/assets/dump1.html.1b821cc3.js"><link rel="prefetch" href="/blog/assets/index.html.89c49574.js"><link rel="prefetch" href="/blog/assets/ch0-data-system.html.8586e641.js"><link rel="prefetch" href="/blog/assets/ch1-reliable-scalable-maintainable-applications.html.ab4a77bd.js"><link rel="prefetch" href="/blog/assets/ch10-batch-processing-1.html.d766dd43.js"><link rel="prefetch" href="/blog/assets/ch10-batch-processing-2.html.b9585471.js"><link rel="prefetch" href="/blog/assets/ch2-data-models.html.87539ed4.js"><link rel="prefetch" href="/blog/assets/ch5-replication.html.b091efb1.js"><link rel="prefetch" href="/blog/assets/ch6-partitioning.html.e61a7619.js"><link rel="prefetch" href="/blog/assets/ch7-transactions-1.html.f6caada5.js"><link rel="prefetch" href="/blog/assets/ch7-transactions-2.html.5d9cfa03.js"><link rel="prefetch" href="/blog/assets/index.html.5656a668.js"><link rel="prefetch" href="/blog/assets/prototype.html.da04a846.js"><link rel="prefetch" href="/blog/assets/this.html.0d518815.js"><link rel="prefetch" href="/blog/assets/데이터타입.html.136819dc.js"><link rel="prefetch" href="/blog/assets/실행컨텍스트.html.d69e1622.js"><link rel="prefetch" href="/blog/assets/자바스크립트_개요.html.e4be8d79.js"><link rel="prefetch" href="/blog/assets/콜백함수.html.a8bea4c0.js"><link rel="prefetch" href="/blog/assets/클로저.html.902768d0.js"><link rel="prefetch" href="/blog/assets/index.html.9cde8e27.js"><link rel="prefetch" href="/blog/assets/ubuntu-고정ip변경.html.b4040f0a.js"><link rel="prefetch" href="/blog/assets/ubuntu-명령어.html.de4cbb56.js"><link rel="prefetch" href="/blog/assets/ubuntu-설치USB.html.555195dc.js"><link rel="prefetch" href="/blog/assets/index.html.d0a96331.js"><link rel="prefetch" href="/blog/assets/ch.10-nat-과-포트포워딩.html.3d7a4f9c.js"><link rel="prefetch" href="/blog/assets/ch.11-7계층-프로토콜-HTTP.html.7af264dc.js"><link rel="prefetch" href="/blog/assets/ch1-네트워크-개요.html.728ab4c7.js"><link rel="prefetch" href="/blog/assets/ch2-네트워크-모델.html.cbfe1566.js"><link rel="prefetch" href="/blog/assets/ch3-2계층.html.5ba366af.js"><link rel="prefetch" href="/blog/assets/ch4-3계층.html.891536a9.js"><link rel="prefetch" href="/blog/assets/ch5-ARP-프로토콜.html.5bbd1632.js"><link rel="prefetch" href="/blog/assets/ch6-IPv4와ICMP프로토콜.html.85f46ec9.js"><link rel="prefetch" href="/blog/assets/ch7-4계층.html.f0892cdb.js"><link rel="prefetch" href="/blog/assets/ch8-UDP프로토콜.html.9d360999.js"><link rel="prefetch" href="/blog/assets/ch9-TCP프로토콜.html.cc5c4031.js"><link rel="prefetch" href="/blog/assets/index.html.8617c5e4.js"><link rel="prefetch" href="/blog/assets/ch1-컴퓨터-시스템-구성.html.1545585a.js"><link rel="prefetch" href="/blog/assets/ch10-기아상태.html.d621e5c3.js"><link rel="prefetch" href="/blog/assets/ch11-cpu스케줄링.html.1621980b.js"><link rel="prefetch" href="/blog/assets/ch12-메모리관리.html.a103ddb3.js"><link rel="prefetch" href="/blog/assets/ch13-가상메모리.html.2f939661.js"><link rel="prefetch" href="/blog/assets/ch2-운영체제-개요.html.895cda0a.js"><link rel="prefetch" href="/blog/assets/ch3-운영체제-역할과-기능.html.2460c9d1.js"><link rel="prefetch" href="/blog/assets/ch4-운영체제-서비스.html.98ff8f30.js"><link rel="prefetch" href="/blog/assets/ch5-운영체제-유형.html.eb5dd783.js"><link rel="prefetch" href="/blog/assets/ch6-프로세스.html.1b9084af.js"><link rel="prefetch" href="/blog/assets/ch7-스레드.html.4076196e.js"><link rel="prefetch" href="/blog/assets/ch8-병행-프로세스와-상호배제.html.f93c6ef6.js"><link rel="prefetch" href="/blog/assets/ch9-교착상태.html.38842cce.js"><link rel="prefetch" href="/blog/assets/index.html.653b01d5.js"><link rel="prefetch" href="/blog/assets/maximum-subarray.html.2d9e3f24.js"><link rel="prefetch" href="/blog/assets/most-common-word.html.1ebfd2bf.js"><link rel="prefetch" href="/blog/assets/palindrome-number.html.1f408b84.js"><link rel="prefetch" href="/blog/assets/reorder-data-in-log-files.html.f2b77a74.js"><link rel="prefetch" href="/blog/assets/reverse-string.html.48ef0ef9.js"><link rel="prefetch" href="/blog/assets/valid-palindrome.html.922f4d29.js"><link rel="prefetch" href="/blog/assets/verifying-an-alien-dictionary.html.ad2de2d9.js"><link rel="prefetch" href="/blog/assets/index.html.c53a46fd.js"><link rel="prefetch" href="/blog/assets/employee-free-time.html.583be2b1.js"><link rel="prefetch" href="/blog/assets/find-median-from-data-stream.html.25324577.js"><link rel="prefetch" href="/blog/assets/longest-increasing-path-in-a-matrix.html.16780c52.js"><link rel="prefetch" href="/blog/assets/maximum-profit-in-job-scheduling.html.063e9c28.js"><link rel="prefetch" href="/blog/assets/merge-k-sorted-lists.html.31e50b4c.js"><link rel="prefetch" href="/blog/assets/minimum-number-of-taps-to-open-to-water-a-garden.html.714bebd6.js"><link rel="prefetch" href="/blog/assets/serialize-and-deserialize-binary-tree.html.bf07c606.js"><link rel="prefetch" href="/blog/assets/sliding-window-maximum.html.dd523ec6.js"><link rel="prefetch" href="/blog/assets/word-break-ii.html.4abe44fa.js"><link rel="prefetch" href="/blog/assets/3sum-closest.html.dab62e9b.js"><link rel="prefetch" href="/blog/assets/3sum.html.60f3b599.js"><link rel="prefetch" href="/blog/assets/index.html.92a20ad6.js"><link rel="prefetch" href="/blog/assets/balance-a-binary-search-tree.html.a09a4835.js"><link rel="prefetch" href="/blog/assets/coin-change.html.e891e842.js"><link rel="prefetch" href="/blog/assets/convert-binary-search-tree-to-sorted-doubly-linked-list.html.f28dd072.js"><link rel="prefetch" href="/blog/assets/daily-temperatures.html.d144d561.js"><link rel="prefetch" href="/blog/assets/decode-string.html.e3ac383c.js"><link rel="prefetch" href="/blog/assets/delete-and-earn.html.23c7284d.js"><link rel="prefetch" href="/blog/assets/delete-node-in-a-bst.html.06a5a4ba.js"><link rel="prefetch" href="/blog/assets/evaluate-division.html.17d54853.js"><link rel="prefetch" href="/blog/assets/find-the-celebrity.html.877ef560.js"><link rel="prefetch" href="/blog/assets/flatten-nested-list-iterator.html.8b52ec00.js"><link rel="prefetch" href="/blog/assets/generate-parentheses.html.68730adc.js"><link rel="prefetch" href="/blog/assets/group-anagrams.html.f06b493b.js"><link rel="prefetch" href="/blog/assets/insert-delete-getrandom-o1.html.3c68c31f.js"><link rel="prefetch" href="/blog/assets/letter-combinations-of-a-phone-number.html.33f8551f.js"><link rel="prefetch" href="/blog/assets/lru-cache.html.eed5edc8.js"><link rel="prefetch" href="/blog/assets/max-area-of-island.html.49cd91fe.js"><link rel="prefetch" href="/blog/assets/meeting-rooms-ii.html.5b258b05.js"><link rel="prefetch" href="/blog/assets/merge-intervals.html.9e5c66ea.js"><link rel="prefetch" href="/blog/assets/minimum-knight-moves.html.750227fa.js"><link rel="prefetch" href="/blog/assets/minimum-remove-to-make-valid-parentheses.html.33e9bb55.js"><link rel="prefetch" href="/blog/assets/network-delay-time.html.a7f8787a.js"><link rel="prefetch" href="/blog/assets/number-of-islands.html.88ddd612.js"><link rel="prefetch" href="/blog/assets/predict-the-winner.html.9bcb6df7.js"><link rel="prefetch" href="/blog/assets/product-of-array-except-self.html.14bb60f5.js"><link rel="prefetch" href="/blog/assets/random-pick-with-weight.html.dd9ff5bd.js"><link rel="prefetch" href="/blog/assets/recover-binary-search-tree.html.ce6d7089.js"><link rel="prefetch" href="/blog/assets/remove-all-adjacent-duplicates-in-string-ii.html.f445d945.js"><link rel="prefetch" href="/blog/assets/robot-bounded-in-circle.html.45b30a50.js"><link rel="prefetch" href="/blog/assets/subarray-sum-equals-k.html.43ce811b.js"><link rel="prefetch" href="/blog/assets/time-based-key-value-store.html.e87e175f.js"><link rel="prefetch" href="/blog/assets/top-k-frequent-elements.html.d892cad4.js"><link rel="prefetch" href="/blog/assets/tweet-counts-per-frequency.html.5258dff2.js"><link rel="prefetch" href="/blog/assets/word-break.html.c42c3c95.js"><link rel="prefetch" href="/blog/assets/K번째-수.html.01d4e45b.js"><link rel="prefetch" href="/blog/assets/index.html.d5d90e2f.js"><link rel="prefetch" href="/blog/assets/모의고사.html.3c4c6449.js"><link rel="prefetch" href="/blog/assets/완주하지_못한_선수.html.9f720b4e.js"><link rel="prefetch" href="/blog/assets/체육복.html.f17235ab.js"><link rel="prefetch" href="/blog/assets/H-Index.html.321ab98f.js"><link rel="prefetch" href="/blog/assets/index.html.03a513e3.js"><link rel="prefetch" href="/blog/assets/가장_큰_수.html.8598337a.js"><link rel="prefetch" href="/blog/assets/구명보트.html.33ea7da4.js"><link rel="prefetch" href="/blog/assets/기능개발.html.aa3f25d1.js"><link rel="prefetch" href="/blog/assets/다리를-건너는-트럭.html.1c10f824.js"><link rel="prefetch" href="/blog/assets/더맵게.html.aaa88e8a.js"><link rel="prefetch" href="/blog/assets/소수찾기.html.515204ce.js"><link rel="prefetch" href="/blog/assets/위장.html.0d11eca0.js"><link rel="prefetch" href="/blog/assets/전화번호-목록.html.2c5fef16.js"><link rel="prefetch" href="/blog/assets/주식가격.html.bd65633d.js"><link rel="prefetch" href="/blog/assets/큰_수_만들기.html.58e48c16.js"><link rel="prefetch" href="/blog/assets/타겟넘버.html.5a8f0e2c.js"><link rel="prefetch" href="/blog/assets/프린터.html.fe910406.js"><link rel="prefetch" href="/blog/assets/N으로표현.html.d03d6a7d.js"><link rel="prefetch" href="/blog/assets/index.html.7d38f570.js"><link rel="prefetch" href="/blog/assets/가장-먼-노드.html.c93ac319.js"><link rel="prefetch" href="/blog/assets/네트워크.html.0bb56f3a.js"><link rel="prefetch" href="/blog/assets/단속카메라.html.2d5d8523.js"><link rel="prefetch" href="/blog/assets/단어변환.html.66ecc512.js"><link rel="prefetch" href="/blog/assets/등굣길.html.b1d29ed1.js"><link rel="prefetch" href="/blog/assets/디스크-컨트롤러.html.8bcd1250.js"><link rel="prefetch" href="/blog/assets/베스트앨범.html.20a8745a.js"><link rel="prefetch" href="/blog/assets/순위.html.71c3c136.js"><link rel="prefetch" href="/blog/assets/여행경로.html.f5a2601d.js"><link rel="prefetch" href="/blog/assets/이중우선순위큐.html.bb830af1.js"><link rel="prefetch" href="/blog/assets/입국심사.html.78a6ec35.js"><link rel="prefetch" href="/blog/assets/정수삼각형.html.c138a508.js"><link rel="prefetch" href="/blog/assets/index.html.93d63f22.js"><link rel="prefetch" href="/blog/assets/거리두기-확인하기.html.26ef0136.js"><link rel="prefetch" href="/blog/assets/숫자-문자열과-영단어.html.d265446d.js"><link rel="prefetch" href="/blog/assets/양과늑대.html.e7ae223d.js"><link rel="prefetch" href="/blog/assets/양궁대회.html.a398244b.js"><link rel="prefetch" href="/blog/assets/오픈채팅방.html.59e4011f.js"><link rel="prefetch" href="/blog/assets/404.html.3eb2a3ac.js"><link rel="prefetch" href="/blog/assets/index.html.61fdcb36.js"><link rel="prefetch" href="/blog/assets/index.html.cf2000b2.js"><link rel="prefetch" href="/blog/assets/index.html.fbc74161.js"><link rel="prefetch" href="/blog/assets/index.html.e047e78f.js"><link rel="prefetch" href="/blog/assets/index.html.46b1d28f.js"><link rel="prefetch" href="/blog/assets/index.html.30e5fcf5.js"><link rel="prefetch" href="/blog/assets/index.html.3981e850.js"><link rel="prefetch" href="/blog/assets/algorithm.html.0095ed53.js"><link rel="prefetch" href="/blog/assets/linear.html.2b5465a4.js"><link rel="prefetch" href="/blog/assets/non-linear.html.f7764d04.js"><link rel="prefetch" href="/blog/assets/index.html.df77d909.js"><link rel="prefetch" href="/blog/assets/domain1-1-multi-tier-solutions.html.051d3a88.js"><link rel="prefetch" href="/blog/assets/domain1-2-high-availability-and-fault-tolerance .html.7075a3b7.js"><link rel="prefetch" href="/blog/assets/domain1-3-decoupling-mechanisms.html.1d75c93c.js"><link rel="prefetch" href="/blog/assets/domain1-4-resilient-storage.html.0f77c3fc.js"><link rel="prefetch" href="/blog/assets/domain1-Exercise.html.70a9ab6c.js"><link rel="prefetch" href="/blog/assets/domain2-1-elastic-and-scalable-compute-solutions-for-a-workload.html.09a4440c.js"><link rel="prefetch" href="/blog/assets/domain2-2-high-performing-and-scalable-storage-solutions-for-a-workload.html.3d7deec3.js"><link rel="prefetch" href="/blog/assets/domain2-3-high-performing-networking-solutions-for-a-workload.html.c146875f.js"><link rel="prefetch" href="/blog/assets/domain2-4-high-performing-database-solutions-for-a-workload.html.a84ff12c.js"><link rel="prefetch" href="/blog/assets/domain2-Exercise.html.fa494b09.js"><link rel="prefetch" href="/blog/assets/domain3-1-secure-resource-access.html.0a1b4f4e.js"><link rel="prefetch" href="/blog/assets/domain3-2-secure-application-tiers.html.8002a851.js"><link rel="prefetch" href="/blog/assets/domain3-3-data-security-options.html.df3ecd57.js"><link rel="prefetch" href="/blog/assets/domain3-Exercise.html.9bb483d2.js"><link rel="prefetch" href="/blog/assets/domain4-1-cost-effective-storage-solutions.html.6dc390ff.js"><link rel="prefetch" href="/blog/assets/domain4-2-cost-effective-compute-and-database-services.html.20ebb389.js"><link rel="prefetch" href="/blog/assets/domain4-3-cost-optimized-network-architectures.html.06ea4a4f.js"><link rel="prefetch" href="/blog/assets/domain4-Exercise.html.0d362330.js"><link rel="prefetch" href="/blog/assets/dump1.html.240544aa.js"><link rel="prefetch" href="/blog/assets/index.html.260be82b.js"><link rel="prefetch" href="/blog/assets/ch0-data-system.html.75133625.js"><link rel="prefetch" href="/blog/assets/ch1-reliable-scalable-maintainable-applications.html.12f93a78.js"><link rel="prefetch" href="/blog/assets/ch10-batch-processing-1.html.48517843.js"><link rel="prefetch" href="/blog/assets/ch10-batch-processing-2.html.7f5a7c23.js"><link rel="prefetch" href="/blog/assets/ch2-data-models.html.4dda36d1.js"><link rel="prefetch" href="/blog/assets/ch5-replication.html.2ab1d855.js"><link rel="prefetch" href="/blog/assets/ch6-partitioning.html.e3e5c378.js"><link rel="prefetch" href="/blog/assets/ch7-transactions-1.html.83b8aa5f.js"><link rel="prefetch" href="/blog/assets/ch7-transactions-2.html.b079bdf2.js"><link rel="prefetch" href="/blog/assets/index.html.10b67596.js"><link rel="prefetch" href="/blog/assets/prototype.html.e912f058.js"><link rel="prefetch" href="/blog/assets/this.html.a43a0040.js"><link rel="prefetch" href="/blog/assets/데이터타입.html.0934ce1d.js"><link rel="prefetch" href="/blog/assets/실행컨텍스트.html.6d81b716.js"><link rel="prefetch" href="/blog/assets/자바스크립트_개요.html.69b734c6.js"><link rel="prefetch" href="/blog/assets/콜백함수.html.611d1bc2.js"><link rel="prefetch" href="/blog/assets/클로저.html.eb080147.js"><link rel="prefetch" href="/blog/assets/index.html.ae00cb8d.js"><link rel="prefetch" href="/blog/assets/ubuntu-고정ip변경.html.07401f35.js"><link rel="prefetch" href="/blog/assets/ubuntu-명령어.html.6af20484.js"><link rel="prefetch" href="/blog/assets/ubuntu-설치USB.html.22e00f80.js"><link rel="prefetch" href="/blog/assets/index.html.412cc464.js"><link rel="prefetch" href="/blog/assets/ch.10-nat-과-포트포워딩.html.fae5fc25.js"><link rel="prefetch" href="/blog/assets/ch.11-7계층-프로토콜-HTTP.html.223120cc.js"><link rel="prefetch" href="/blog/assets/ch1-네트워크-개요.html.3957f285.js"><link rel="prefetch" href="/blog/assets/ch2-네트워크-모델.html.dd0471d6.js"><link rel="prefetch" href="/blog/assets/ch3-2계층.html.a79bb7db.js"><link rel="prefetch" href="/blog/assets/ch4-3계층.html.767f5a34.js"><link rel="prefetch" href="/blog/assets/ch5-ARP-프로토콜.html.2509ce8f.js"><link rel="prefetch" href="/blog/assets/ch6-IPv4와ICMP프로토콜.html.cd47cc09.js"><link rel="prefetch" href="/blog/assets/ch7-4계층.html.9a7e5df5.js"><link rel="prefetch" href="/blog/assets/ch8-UDP프로토콜.html.fc4c0d3a.js"><link rel="prefetch" href="/blog/assets/ch9-TCP프로토콜.html.495d7fed.js"><link rel="prefetch" href="/blog/assets/index.html.2fe7b1a0.js"><link rel="prefetch" href="/blog/assets/ch1-컴퓨터-시스템-구성.html.35caf133.js"><link rel="prefetch" href="/blog/assets/ch10-기아상태.html.dd564430.js"><link rel="prefetch" href="/blog/assets/ch11-cpu스케줄링.html.17cdd35d.js"><link rel="prefetch" href="/blog/assets/ch12-메모리관리.html.2fdf1f2d.js"><link rel="prefetch" href="/blog/assets/ch13-가상메모리.html.87e3acd3.js"><link rel="prefetch" href="/blog/assets/ch2-운영체제-개요.html.cce6f496.js"><link rel="prefetch" href="/blog/assets/ch3-운영체제-역할과-기능.html.7d3fad2f.js"><link rel="prefetch" href="/blog/assets/ch4-운영체제-서비스.html.7c391810.js"><link rel="prefetch" href="/blog/assets/ch5-운영체제-유형.html.fd7aadc4.js"><link rel="prefetch" href="/blog/assets/ch6-프로세스.html.aa582d37.js"><link rel="prefetch" href="/blog/assets/ch7-스레드.html.e57f572a.js"><link rel="prefetch" href="/blog/assets/ch8-병행-프로세스와-상호배제.html.fcb60145.js"><link rel="prefetch" href="/blog/assets/ch9-교착상태.html.b60abb54.js"><link rel="prefetch" href="/blog/assets/index.html.0eedeaa2.js"><link rel="prefetch" href="/blog/assets/maximum-subarray.html.689ca486.js"><link rel="prefetch" href="/blog/assets/most-common-word.html.c842db4e.js"><link rel="prefetch" href="/blog/assets/palindrome-number.html.d58627ae.js"><link rel="prefetch" href="/blog/assets/reorder-data-in-log-files.html.ee60ac2f.js"><link rel="prefetch" href="/blog/assets/reverse-string.html.c57792b0.js"><link rel="prefetch" href="/blog/assets/valid-palindrome.html.915cf2f0.js"><link rel="prefetch" href="/blog/assets/verifying-an-alien-dictionary.html.d3f41acb.js"><link rel="prefetch" href="/blog/assets/index.html.82ac9a26.js"><link rel="prefetch" href="/blog/assets/employee-free-time.html.9e8daa05.js"><link rel="prefetch" href="/blog/assets/find-median-from-data-stream.html.dddb48ec.js"><link rel="prefetch" href="/blog/assets/longest-increasing-path-in-a-matrix.html.629fcb18.js"><link rel="prefetch" href="/blog/assets/maximum-profit-in-job-scheduling.html.9100a929.js"><link rel="prefetch" href="/blog/assets/merge-k-sorted-lists.html.49843934.js"><link rel="prefetch" href="/blog/assets/minimum-number-of-taps-to-open-to-water-a-garden.html.7d6c6010.js"><link rel="prefetch" href="/blog/assets/serialize-and-deserialize-binary-tree.html.2dee548e.js"><link rel="prefetch" href="/blog/assets/sliding-window-maximum.html.cfb488d1.js"><link rel="prefetch" href="/blog/assets/word-break-ii.html.e383f57e.js"><link rel="prefetch" href="/blog/assets/3sum-closest.html.df01fddc.js"><link rel="prefetch" href="/blog/assets/3sum.html.2a78c654.js"><link rel="prefetch" href="/blog/assets/index.html.eef59ea1.js"><link rel="prefetch" href="/blog/assets/balance-a-binary-search-tree.html.2646e322.js"><link rel="prefetch" href="/blog/assets/coin-change.html.0d0ac08b.js"><link rel="prefetch" href="/blog/assets/convert-binary-search-tree-to-sorted-doubly-linked-list.html.d4f256f9.js"><link rel="prefetch" href="/blog/assets/daily-temperatures.html.937f02e5.js"><link rel="prefetch" href="/blog/assets/decode-string.html.4189e963.js"><link rel="prefetch" href="/blog/assets/delete-and-earn.html.b4337884.js"><link rel="prefetch" href="/blog/assets/delete-node-in-a-bst.html.a05401f8.js"><link rel="prefetch" href="/blog/assets/evaluate-division.html.2b0130f0.js"><link rel="prefetch" href="/blog/assets/find-the-celebrity.html.39d0da5c.js"><link rel="prefetch" href="/blog/assets/flatten-nested-list-iterator.html.425faaac.js"><link rel="prefetch" href="/blog/assets/generate-parentheses.html.93f234ec.js"><link rel="prefetch" href="/blog/assets/group-anagrams.html.88a76860.js"><link rel="prefetch" href="/blog/assets/insert-delete-getrandom-o1.html.d9860c72.js"><link rel="prefetch" href="/blog/assets/letter-combinations-of-a-phone-number.html.97fe097f.js"><link rel="prefetch" href="/blog/assets/lru-cache.html.ea0fb2c6.js"><link rel="prefetch" href="/blog/assets/max-area-of-island.html.23b30fc0.js"><link rel="prefetch" href="/blog/assets/meeting-rooms-ii.html.18ff8285.js"><link rel="prefetch" href="/blog/assets/merge-intervals.html.a36ab62b.js"><link rel="prefetch" href="/blog/assets/minimum-knight-moves.html.6f1b24a6.js"><link rel="prefetch" href="/blog/assets/minimum-remove-to-make-valid-parentheses.html.f7645b68.js"><link rel="prefetch" href="/blog/assets/network-delay-time.html.d46e9755.js"><link rel="prefetch" href="/blog/assets/number-of-islands.html.84fd73c7.js"><link rel="prefetch" href="/blog/assets/predict-the-winner.html.59e3ea4d.js"><link rel="prefetch" href="/blog/assets/product-of-array-except-self.html.ac238465.js"><link rel="prefetch" href="/blog/assets/random-pick-with-weight.html.c9633405.js"><link rel="prefetch" href="/blog/assets/recover-binary-search-tree.html.09cad2fb.js"><link rel="prefetch" href="/blog/assets/remove-all-adjacent-duplicates-in-string-ii.html.1ab30733.js"><link rel="prefetch" href="/blog/assets/robot-bounded-in-circle.html.f731b1ce.js"><link rel="prefetch" href="/blog/assets/subarray-sum-equals-k.html.6ed0842c.js"><link rel="prefetch" href="/blog/assets/time-based-key-value-store.html.38f30ef2.js"><link rel="prefetch" href="/blog/assets/top-k-frequent-elements.html.97557a34.js"><link rel="prefetch" href="/blog/assets/tweet-counts-per-frequency.html.49d91e7f.js"><link rel="prefetch" href="/blog/assets/word-break.html.286cb537.js"><link rel="prefetch" href="/blog/assets/K번째-수.html.a0a1046c.js"><link rel="prefetch" href="/blog/assets/index.html.6bf00652.js"><link rel="prefetch" href="/blog/assets/모의고사.html.c1521c58.js"><link rel="prefetch" href="/blog/assets/완주하지_못한_선수.html.861f5e7f.js"><link rel="prefetch" href="/blog/assets/체육복.html.5e19579a.js"><link rel="prefetch" href="/blog/assets/H-Index.html.c059a186.js"><link rel="prefetch" href="/blog/assets/index.html.ae286d0e.js"><link rel="prefetch" href="/blog/assets/가장_큰_수.html.0dd62c5c.js"><link rel="prefetch" href="/blog/assets/구명보트.html.5d63d2a4.js"><link rel="prefetch" href="/blog/assets/기능개발.html.2a5995a7.js"><link rel="prefetch" href="/blog/assets/다리를-건너는-트럭.html.1b535a7e.js"><link rel="prefetch" href="/blog/assets/더맵게.html.044e992a.js"><link rel="prefetch" href="/blog/assets/소수찾기.html.6f3b809d.js"><link rel="prefetch" href="/blog/assets/위장.html.905dfc13.js"><link rel="prefetch" href="/blog/assets/전화번호-목록.html.a7d00471.js"><link rel="prefetch" href="/blog/assets/주식가격.html.77c9f48a.js"><link rel="prefetch" href="/blog/assets/큰_수_만들기.html.5e8cdc81.js"><link rel="prefetch" href="/blog/assets/타겟넘버.html.eb4fd3a5.js"><link rel="prefetch" href="/blog/assets/프린터.html.9d27da85.js"><link rel="prefetch" href="/blog/assets/N으로표현.html.9883bbd2.js"><link rel="prefetch" href="/blog/assets/index.html.77180281.js"><link rel="prefetch" href="/blog/assets/가장-먼-노드.html.f972c8e6.js"><link rel="prefetch" href="/blog/assets/네트워크.html.d5e04330.js"><link rel="prefetch" href="/blog/assets/단속카메라.html.be515973.js"><link rel="prefetch" href="/blog/assets/단어변환.html.4ddcf0b6.js"><link rel="prefetch" href="/blog/assets/등굣길.html.648a14bb.js"><link rel="prefetch" href="/blog/assets/디스크-컨트롤러.html.c4abf35a.js"><link rel="prefetch" href="/blog/assets/베스트앨범.html.8d203a3a.js"><link rel="prefetch" href="/blog/assets/순위.html.a6f233cf.js"><link rel="prefetch" href="/blog/assets/여행경로.html.22569a19.js"><link rel="prefetch" href="/blog/assets/이중우선순위큐.html.74ff34a5.js"><link rel="prefetch" href="/blog/assets/입국심사.html.a945506c.js"><link rel="prefetch" href="/blog/assets/정수삼각형.html.13f7ef03.js"><link rel="prefetch" href="/blog/assets/index.html.e28649a0.js"><link rel="prefetch" href="/blog/assets/거리두기-확인하기.html.5ca25e34.js"><link rel="prefetch" href="/blog/assets/숫자-문자열과-영단어.html.33a2ae5f.js"><link rel="prefetch" href="/blog/assets/양과늑대.html.faf34979.js"><link rel="prefetch" href="/blog/assets/양궁대회.html.f363ab9b.js"><link rel="prefetch" href="/blog/assets/오픈채팅방.html.005a4812.js"><link rel="prefetch" href="/blog/assets/404.html.dc018b38.js"><link rel="prefetch" href="/blog/assets/404.e187a341.js"><link rel="prefetch" href="/blog/assets/Layout.d25275fc.js"><link rel="prefetch" href="/blog/assets/Slide.b0d48f24.js"><link rel="prefetch" href="/blog/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/blog/assets/index.daae04bf.js"><link rel="prefetch" href="/blog/assets/index.1842ee54.js"><link rel="prefetch" href="/blog/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/blog/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/blog/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/blog/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/blog/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/blog/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/blog/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/blog/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/blog/assets/photoswipe.esm.092fbc15.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/blog/" class="brand"><img class="logo" src="/blog/myLogo.png" alt="J.Stella Blog"><!----><span class="site-name hide-in-pad">J.Stella Blog</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" aria-label="Home"><span class="icon iconfont icon-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/studylog/" class="nav-link active" aria-label="Study Log"><span class="icon iconfont icon-read" style=""></span>Study Log<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/algorithm/" class="nav-link" aria-label="Algorithm"><span class="icon iconfont icon-condition" style=""></span>Algorithm<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/toy-project/" class="nav-link" aria-label="My Toy Project"><span class="icon iconfont icon-build" style=""></span>My Toy Project<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/jstella96" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/blog/studylog/" class="nav-link sidebar-link sidebar-page" aria-label="Study Log"><span class="icon iconfont icon-read" style=""></span>Study Log<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-lock" style=""></span><span class="title">AWS</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-write" style=""></span><span class="title">Designing Data Intensive Application</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch0-data-system.html" class="nav-link sidebar-link sidebar-page" aria-label="데이터 시스템 개요"><span class="icon iconfont icon-creative" style=""></span>데이터 시스템 개요<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch1-reliable-scalable-maintainable-applications.html" class="nav-link sidebar-link sidebar-page" aria-label="신뢰성, 확장성, 유지보수성"><span class="icon iconfont icon-creative" style=""></span>신뢰성, 확장성, 유지보수성<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch2-data-models.html" class="nav-link sidebar-link sidebar-page" aria-label="데이터 모델"><span class="icon iconfont icon-creative" style=""></span>데이터 모델<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch5-replication.html" class="nav-link sidebar-link sidebar-page" aria-label="복제"><span class="icon iconfont icon-creative" style=""></span>복제<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch6-partitioning.html" class="nav-link sidebar-link sidebar-page" aria-label="파티셔닝"><span class="icon iconfont icon-creative" style=""></span>파티셔닝<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch7-transactions-1.html" class="nav-link sidebar-link sidebar-page" aria-label="트랜잭션(1) ACID"><span class="icon iconfont icon-creative" style=""></span>트랜잭션(1) ACID<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch7-transactions-2.html" class="nav-link sidebar-link sidebar-page" aria-label="트랜잭션(2) 동시성 문제"><span class="icon iconfont icon-creative" style=""></span>트랜잭션(2) 동시성 문제<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch10-batch-processing-1.html" class="nav-link sidebar-link sidebar-page" aria-label="일괄처리(1) 유닉스 철학"><span class="icon iconfont icon-creative" style=""></span>일괄처리(1) 유닉스 철학<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/studylog/designing-data-intensive-application/ch10-batch-processing-2.html" class="nav-link sidebar-link sidebar-page" aria-label="일괄처리(2) 맵리듀스"><span class="icon iconfont icon-creative" style=""></span>일괄처리(2) 맵리듀스<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="스트림처리"><span class="icon iconfont icon-creative" style=""></span>스트림처리<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#개요" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="개요"><!---->개요<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#메시징-시스템" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="메시징 시스템"><!---->메시징 시스템<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#메시지-브로커" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="메시지 브로커"><!---->메시지 브로커<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_1-복수-소비자" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 복수 소비자"><!---->1. 복수 소비자<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_2-확인-응답과-재전송" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 확인 응답과 재전송"><!---->2. 확인 응답과 재전송<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#파티셔닝-된-로그" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="파티셔닝 된 로그"><!---->파티셔닝 된 로그<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_1-로그를-사용한-메시지-저장소" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 로그를 사용한 메시지 저장소"><!---->1. 로그를 사용한 메시지 저장소<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_2-로그-방식과-전통적인-메시징-방식의-비교" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 로그 방식과 전통적인 메시징 방식의 비교"><!---->2. 로그 방식과 전통적인 메시징 방식의 비교<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_3-소비자-오프셋" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. 소비자 오프셋"><!---->3. 소비자 오프셋<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_4-디스크-공간-사용" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. 디스크 공간 사용"><!---->4. 디스크 공간 사용<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_5-소비자가-생산자를-따라갈-수-없을-때" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 소비자가 생산자를 따라갈 수 없을 때"><!---->5. 소비자가 생산자를 따라갈 수 없을 때<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_6-오래된-메시지-재생" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. 오래된 메시지 재생"><!---->6. 오래된 메시지 재생<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#변경-데이터-캡쳐와-이벤트-소싱" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="변경 데이터 캡쳐와 이벤트 소싱"><!---->변경 데이터 캡쳐와 이벤트 소싱<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_1-변경-데이터-캡처" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 변경 데이터 캡처"><!---->1. 변경 데이터 캡처<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_2-이벤트소싱" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 이벤트소싱"><!---->2. 이벤트소싱<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#불변성" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="불변성"><!---->불변성<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#정리" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="정리"><!---->정리<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-write" style=""></span><span class="title">JavaScript</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-write" style=""></span><span class="title">Linux</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-write" style=""></span><span class="title">Network</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-write" style=""></span><span class="title">OS</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-creative" style=""></span>스트림처리</h1><div class="page-info"><span class="date-info" aria-label="Writing Date📅" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>June 3, 2022</span><meta property="datePublished" content="2022-06-03T01:05:19.000Z"></span><span class="category-info" aria-label="Category🌈" data-balloon-pos="down" localizeddate="June 3, 2022" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category4" role>IT서적</li><meta property="articleSection" content="IT서적"></ul></span><span aria-label="Tag🏷" data-balloon-pos="down" localizeddate="June 3, 2022" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag2" role>chapter 11</li></ul><meta property="keywords" content="chapter 11"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#개요" class="router-link-active router-link-exact-active toc-link level2">개요</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#메시징-시스템" class="router-link-active router-link-exact-active toc-link level2">메시징 시스템</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#메시지-브로커" class="router-link-active router-link-exact-active toc-link level2">메시지 브로커</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_1-복수-소비자" class="router-link-active router-link-exact-active toc-link level3">1. 복수 소비자</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_2-확인-응답과-재전송" class="router-link-active router-link-exact-active toc-link level3">2. 확인 응답과 재전송</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#파티셔닝-된-로그" class="router-link-active router-link-exact-active toc-link level2">파티셔닝 된 로그</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_1-로그를-사용한-메시지-저장소" class="router-link-active router-link-exact-active toc-link level3">1. 로그를 사용한 메시지 저장소</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_2-로그-방식과-전통적인-메시징-방식의-비교" class="router-link-active router-link-exact-active toc-link level3">2. 로그 방식과 전통적인 메시징 방식의 비교</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_3-소비자-오프셋" class="router-link-active router-link-exact-active toc-link level3">3. 소비자 오프셋</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_4-디스크-공간-사용" class="router-link-active router-link-exact-active toc-link level3">4. 디스크 공간 사용</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_5-소비자가-생산자를-따라갈-수-없을-때" class="router-link-active router-link-exact-active toc-link level3">5. 소비자가 생산자를 따라갈 수 없을 때</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_6-오래된-메시지-재생" class="router-link-active router-link-exact-active toc-link level3">6. 오래된 메시지 재생</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#변경-데이터-캡쳐와-이벤트-소싱" class="router-link-active router-link-exact-active toc-link level2">변경 데이터 캡쳐와 이벤트 소싱</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_1-변경-데이터-캡처" class="router-link-active router-link-exact-active toc-link level3">1. 변경 데이터 캡처</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#_2-이벤트소싱" class="router-link-active router-link-exact-active toc-link level3">2. 이벤트소싱</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#불변성" class="router-link-active router-link-exact-active toc-link level2">불변성</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/studylog/designing-data-intensive-application/ch11-stream-processing.html#정리" class="router-link-active router-link-exact-active toc-link level2">정리</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h2 id="개요" tabindex="-1"><a class="header-anchor" href="#개요" aria-hidden="true">#</a> 개요</h2><p>앞선 10장에서는 일괄처리를 살펴보았다. 일괄처리란 입력으로 파일 집합을 읽고 출력으로 새로운 파일 집합을 생성하는 기술이다. 출력은 파생 데이터이다. 일괄처리는 필요하다면 다시 수행해서 재생성이 가능한 데이터 셋이며, 검색 색인이나 추천 시스템, 분석 등에서 사용된다. 그러나 일괄처리는 입력을 사전에 알려진 유한한 크기로 가정한다는 가정이 있어야 한다. 예를 들어 맵리듀스의 핵심인 정렬 연산의 경우 출력을 시작하기 전에 전체 입력을 다 읽어야 한다. 조기 출력을 시작할 수 없다.</p><p>그러나 실제 데이터는 오늘도 생산되고 내일도 생산된다. 데이터 셋은 절대 &#39;완료&#39;되지 않는다. 일괄처리 프로세서는 작업을 수행하기 위해 인위적으로 일정 기간씩 데이터 청크를 나눠야 한다. 하루가 끝나는 시점에 하루 데이터나 매시간이 끝날 때 해당 시간의 데이터를 처리하는 식으로 말이다.</p><p>일괄처리의 문제점은 입력의 변화가 시간이 지나야 반영이 된다는 것인데, 당연히 이 방법을 사용하면 사용자가 느끼기에 너무 느리다. 이런 지체를 줄이기 위해 <strong>고정된 시간 조각이라는 개념을 완전히 버리고 단순히 이벤트가 발생할 때마다 처리하는 개념이 스트림 처리</strong>의 기본 개념이다. 일반적으로 스트림은 시간 흐름에 따라 점진적으로 생산된 데이터를 일컫는다. 이번 장에서는 데이터 관리 메커니즘인 이벤트 스트림을 다루게 되는데 <strong>일괄처리의 데이터는 입력이 한정적으로 이벤트 스트림 데이터는 점진적으로 처리된다</strong></p><p>이벤트는 특정 시점에 발생한 사건을 기록한 레코드다. 예를 들어 웹페이지를 보거나 상품을 구입하는 일 같은 사용자가 취한 행동이 이벤트가 될 수 있다. 스트림 시스템에서는 대개 토픽이나 스트림이라는 단어로 관련 이벤트를 묶는다. 일괄처리에서 파일을 한 번 기록하면 여러 작업에서 읽을 수 있었듯이 스트리밍에서도 이와 비슷하다 생산자(producer)가 이벤트를 한 번 만들면 해당 이벤트를 복수의 소비자(consumer)가 처리할 수 있다.</p><p>이론상으로는 파일이나 데이터베이스가 있으면 생산자와 소비자를 연결하기에 충분하다. 생산자는 데이터 스토어에 기록하고 소비자는 주기적으로 폴링 해 마지막으로 처리한 이벤트 이후에 새로 발생한 이벤트가 있는지 확인하는 방법이다. 그러나 지연 시간이 낮으면서 지속해서 처리하는 방식을 지향할 때 데이터 스토어를 이런 용도에 맞게 설계하지 않았다면 폴링 방식은 비용이 크다. 폴링이 잦을수록 새로운 이벤트 반환 요청 비율이 낮아져서 오버헤드가 커진다. 오히려 새로운 이벤트가 나타날 때마다 소비자에게 알리는 편이 낮다. 그러나 데이터 베이스는 전통적으로 알림 메커니즘을 강력하게 지원하지 않는다. 보통 관계형 데이터베이스에는 트리거 기능이 있지만 기능이 제한적이고 데이터베이스를 설계한 이후에 도입한 개념이다. 대신 <strong>이벤트 알림 전달 목적으로 개발된 특별한 도구들이 있다.</strong></p><h2 id="메시징-시스템" tabindex="-1"><a class="header-anchor" href="#메시징-시스템" aria-hidden="true">#</a> 메시징 시스템</h2><p><strong>새로운 이벤트에 대해 소비자에게 알려주기 위해 쓰이는 일반적인 방법은 메시징 시스템을 사용하는 것이다.</strong> 생산자는 이벤트를 포함한 메시지를 전송한다. 그리고 메시지는 소비자에게 전달된다. 메세징 시스템은 다수의 생산자 노드가 같은 토픽으로 메시지를 전송할 수 있고 다수의 소비자 노드가 토픽 하나에서 메시지를 받아갈 수 있다.</p><p>발행/구독(publish/subscribe) 모델에서는 여러 시스템들이 다양한 접근법을 사용한다. 모든 목적에 부합하는 하나의 정답은 없기 때문에 아래 두 가지 질문이 시스템을 구별하는 데 상당히 도움이 된다.</p><ol><li><p>생산자가 소비자가 메시지를 처리하는 속도보다 빠르게 메시지를 전송한다면 어떻게 될까? 시스템은 메시지를 버리거나 큐에 버퍼링 하거나 흐름을 제어하여 생산자가 메시지를 더 보내지 못하게 막는다.</p></li><li><p>노드가 죽거나 일시적으로 오프라인이 된다면 어떻게 될까? 손실되는 메시지가 생길까? 데이터베이스를 사용할 때처럼 지속성을 갖추려면 디스크에 기록하거나 복제 본 생성을 해야 한다. 그렇기 때문에 비용이 든다. 때로는 메시지를 잃어도 괜찮다면 처리량을 높이고 지연시간을 낮출 수 있다.</p></li></ol><p>메시지의 유실을 허용하지 말지는 애플리케이션에 따라 상당히 다르다. 주기적으로 생성되는 센서 값은 가끔 데이터가 누락되더라도 큰 문제가 없을 수 있지만 이벤트 수를 세는 경우 메시지가 유실됐다는 것은 카운터가 잘못됐다는 의미이기 때문에 메시지를 신뢰성 있게 전송하는 일은 매우 중요하다.</p><h2 id="메시지-브로커" tabindex="-1"><a class="header-anchor" href="#메시지-브로커" aria-hidden="true">#</a> 메시지 브로커</h2><p>중간 노드를 통하지 않고 생산자와 소비자가 직접 통신하는 직접 메시징 시스템은 설계 상황에서는 잘 동작하지만 일반적으로 메시지가 유실될 수 있는 가능성을 고려해서 애플리케이션 코드를 작성해야 한다. 프로토콜이 네트워크 상에서 패킷 유실을 감지하고 재전송을 하더라도 소비자가 오프라인이라면 메시지를 전달하지 못하는 상태에 있는 동안 전송된 메시지는 잃어버릴 수 있다.</p><p>직접 메시징 시스템의 대안으로 사용되는 방법은 메시지 브로커(메시지 큐)을 통해 메시지를 보내는 것이다. 메시지 브로커은 근본적으로 메시지 스트림을 처리하는 데 최적화된 데이터베이스의 일종이다. 서버로 구동되고 생산자와 소비자는 서버의 클라이언트로 접속한다. <strong>브로커에 데이터가 모이기 때문에 이 시스템은 클라이언트의 상태 변경에 쉽게 대처할 수 있다. 지속성 문제가 브로커으로 옮겨갔기 때문이다. 메시지 브로커은 메시지를 메모리에만 보관하거나 장애로 중단됐을 때도 메시지를 잃어버리지 않기 위해 디스크에 기록한다.</strong> 소비 속도가 느린 소비자가 있으면 일반적으로 브로커은 큐가 제한 없이 계속 늘어나게 한다. 이런 설정은 선택 가능할 수도 있다.</p><p>또한 큐 대기를 하면 소비자는 일반적으로 비동기로 동작한다. 생산자가 메시지를 보낼 때 생산자는 메시지를 버퍼에 넣었는지 만 확인하고 처리하기까지 기다리지 않는다.</p><h3 id="_1-복수-소비자" tabindex="-1"><a class="header-anchor" href="#_1-복수-소비자" aria-hidden="true">#</a> 1. 복수 소비자</h3><p>복수 소비자가 같은 토픽에서 메시지를 읽을 때 사용하는 두 가지 주요 패턴이 있다.</p><ol><li><p>로드 밸런싱 : 각 메시지는 소비자 중 하나로 전달된다. 소비자는 해당 토픽의 메시지를 처리하는 작업을 공유한다.</p></li><li><p>팬 아웃 : 각 메시지는 모든 소비자에게 전달된다. 여러 독립적인 소비자가 브로드 캐스팅된 동일한 메시지를 서로 간섭 없이 청취할 수 있다. 같은 입력 파일을 읽어 여러 다른 일괄 처리 작업에서 사용하는 것과 동일하다.</p></li></ol><p>이 두 가지 패턴은 함께 사용 가능하다. 예를 들어 두 개의 소비자 그룹에서 하나의 토픽을 구독하고 각 그룹은 모든 메시지를 받지만 그룹 내에서는 각 메시지를 하나의 노드만 받게 하는 식이다</p><h3 id="_2-확인-응답과-재전송" tabindex="-1"><a class="header-anchor" href="#_2-확인-응답과-재전송" aria-hidden="true">#</a> 2. 확인 응답과 재전송</h3><p>소비자는 언제라도 장애가 발생할 수 있다. 메시지를 잃어버리지 않기 위해 메시지 브로커은 확인 응답을 사용한다. 메시지 처리가 끝났을 때 브로커이 메시지를 큐에서 제거할 수 있게 명시적으로 알려야 한다. 브로커이 확인 응답을 받기 전에 클라이언트로의 연결이 닫히거나 타임 아웃되면 브로커은 메시지가 처리되지 않았다고 가정하고 다른 소비자에게 다시 전송한다. 부하 균형 분산과 결합할 때 이런 재전송 행위는 메시지 순서에 영향을 미친다. 메시지 브로커은 메시지 순서를 유지하려 노력할지라도 부하 균형 분산과 메시지 재전송을 조합하면 필연적으로 메시지 순서가 변경된다. 소비자마다 독립된 큐를 사용하면, 즉 부하 균형 분산 기능을 사용하지 않는다면 이문제를 피할 수 있다. 메시지가 서로 완전히 독립이라면 메시지 순서가 바뀌는 것은 문제가 되지 않지만 메시지 간 인과성이 있다면 이것은 매우 중요한 문제이다.</p><h2 id="파티셔닝-된-로그" tabindex="-1"><a class="header-anchor" href="#파티셔닝-된-로그" aria-hidden="true">#</a> 파티셔닝 된 로그</h2><p>브로커은 메시지를 일시적으로 보관하는 개념으로 만들 졌다. AMQP/JMS형식의 메시지 형식은 브로커이 확인 응답을 받으면 브로커에서 메시지를 삭제하기 때문에 이전 메시지는 한번 지나가면 다시 복구할 수 없다. 파일 시스템, 데이터 베이스는 이와 반대다. 과거의 기록했던 데이터도 애플리케이션이 명시적으로 지우거나 덮어쓰지 않으면 얼마든지 읽을 수 있다. 데이터베이스의 지속성 있는 저장 방법과 메시징 시스템의 지연 시간이 짧은 알림 기능을 조합하는 것이 <strong>로그 기반 메시지 브로커</strong>의 기본 아이디어다.</p><h3 id="_1-로그를-사용한-메시지-저장소" tabindex="-1"><a class="header-anchor" href="#_1-로그를-사용한-메시지-저장소" aria-hidden="true">#</a> 1. 로그를 사용한 메시지 저장소</h3><p>로그는 단순히 디스크에 저장된 추가 전용 레코드의 연속이다. 메시지 브로커을 구현할 때처럼 생산자가 보낸 메시지는 로그 끝에 추가하고 소비자는 로그를 순차적으로 읽어 메시지를 받는다. 처리량을 높이기 위해 확장하는 방법으로 로그를 파티셔닝 하는 방법이 있다. 각 파티션은 다른 파티션과 독립적으로 읽고 쓰기가 가능한 분리된 로그가 된다. 각 파티션 내에는 브로커은 모든 메시지에 offset의 단조 증가하는 순번을 부여한다. 파티션 내 전체 메시지는 전체 순서가 있기 때문에 순번을 부여하는 것은 타당하다. 단 다른 파티션 간 메시지 순서는 보장하지 않는다.</p><p>아파치 카프카가 이런 방식으로 동작하는 로그 기반 메시지 브로커이다. 이런 메시지 브로커은 모든 메시지를 디스크에 저장하지만 여러 장비에 메시지를 파티셔닝해 초당 수백만 개의 메시지를 처리할 수 있고 메시지를 복제함으로써 장애에 대비할 수 있다.</p><h3 id="_2-로그-방식과-전통적인-메시징-방식의-비교" tabindex="-1"><a class="header-anchor" href="#_2-로그-방식과-전통적인-메시징-방식의-비교" aria-hidden="true">#</a> 2. 로그 방식과 전통적인 메시징 방식의 비교</h3><p>메시지를 처리하는 비용이 비싸고 메시지 단위로 병렬화 처리하고 싶지만 메시지 순서는 중요하지 않다면 AMQP/JMS 방식의 메시지 브로커이 적합하다. 반면 처리량이 많고 메시지를 처리하는 속도가 빠르지만 메시지 순서가 중요하다면 로그 기반 접근법이 효과적이다.</p><h3 id="_3-소비자-오프셋" tabindex="-1"><a class="header-anchor" href="#_3-소비자-오프셋" aria-hidden="true">#</a> 3. 소비자 오프셋</h3><p>파티션 하나를 순서대로 처리하면 메시지를 어디까지 처리했는지 알기 쉽다. 소비자의 현재 오프셋보다 작은 오프셋을 가진 메시지는 이미 처리한 메시지고 소비자의 현재 오프셋보다 큰 오프셋을 가진 메시지는 아직 처리하지 않은 메시지다. 따라서 브로커는 모든 개별 메시지마다 보내는 확인 응답을 추적할 필요가 없다. 주기적으로 소비자 오프셋을 기록하면 된다. 추적 오버헤드가 감소하고 일괄 처리와 파이프라이닝을 수행할 수 있는 기회를 제공해 로그 기반 시스템의 처리량을 늘리는 데 도움을 준다. 소비자 노드에 장애가 발생하면 소비자 그룹 내 다른 노드에 장애가 발생한 소비자의 파티션을 할당하고 마지막 기록된 오프셋부터 메시지를 처리하기 시작한다.</p><h3 id="_4-디스크-공간-사용" tabindex="-1"><a class="header-anchor" href="#_4-디스크-공간-사용" aria-hidden="true">#</a> 4. 디스크 공간 사용</h3><p>디스크 공간을 재사용하기 위해 실제로는 로그를 여러 조각으로 나누고 가끔 오래된 조각을 삭제하거나 보관 저장소로 이동한다. 소비자 처리 속도가 느려 메시지가 생산되는 속도를 따라잡지 못하면 소비자 오프셋이 이미 삭제한 조각을 가리킬 수도 있다. 즉 메시지 일부를 잃어버릴 가능성이 있다. 로그를 크기가 제한된 버퍼로 구현하고 버퍼가 가득 차면 오래된 메시지 순서대로 버린다 이런 버퍼를 원형 버퍼, 링 버퍼라고 한다. 버퍼가 디스크상에 있다면 상당히 커질 수 있다. 이런 로그 기반의 경우 모든 메시지를 디스크에 기록하기 때문에 로그 처리량은 일정하다. 메시징 시스템의 경우는 기본적으로 메모리에 메시지를 유지하고 큐가 커질 때만 디스크에 기록하기 때문에 큐가 작을 때는 빠르지만 디스크에 기록하기 시작하면 매우 느려진다. 시스템 처리량이 보유한 메시지에 따라 다르다.</p><h3 id="_5-소비자가-생산자를-따라갈-수-없을-때" tabindex="-1"><a class="header-anchor" href="#_5-소비자가-생산자를-따라갈-수-없을-때" aria-hidden="true">#</a> 5. 소비자가 생산자를 따라갈 수 없을 때</h3><p>소비자가 뒤처져 필요한 메시지가 디스크에 보유한 메시지보다 오래되면 필요한 메시지는 읽을 수 없다. 그래서 브로커은 버퍼 크기를 넘는 오래된 메시지를 자연스럽게 버린다. 버퍼가 커질수록, 사람이 소비자 처리가 느린 문제를 고쳐 메시지를 잃기 전에 따라잡을 시간을 충분히 벌 수 있다.</p><h3 id="_6-오래된-메시지-재생" tabindex="-1"><a class="header-anchor" href="#_6-오래된-메시지-재생" aria-hidden="true">#</a> 6. 오래된 메시지 재생</h3><p>AMQP 같은 인메모리 유형의 메시지 브로커에서는 처리하고 확인 응답하는 작업은 메시지를 제거하기 때문에 파괴적 연산이다. 반면 로그 기반 메시지 브로커은 메시지를 소비하는 게 오히려 파일을 읽는 작업과 더 유사하다. 로그를 변화시키지 않는 읽기 전용 연산이기 때문이다. 소비자 오프셋은 소비자 관리 아래에 있다. 그래서 필요하다면 쉽게 조작할 수 있다 어제의 오프셋을 복사했다가 재처리할 수 있다.</p><div class="custom-container info"><p class="custom-container-title">정리</p><ul><li><p>AMQP/JMS 스타일 메시지 브로커 브로커는 개별 메시지를 소비자에게 할당하고 소비자는 받은 메시지를 처리하는 데 성공하면 확인 응답을 보낸다. 확인 응답을 받은 메시지는 삭제된다. RPC와 같은 비동기 양식에 적절하다. 메시지의 처리가 정확한 순서대로 이뤄지는 것이 중요하지 않고 메시지가 처리된 후에 이전으로 돌아가 과거 메시지를 다시 읽을 필요가 없다.</p></li><li><p>로그 기반 메시지 브로커 브로커는 한 파티션 내의 모든 메시지를 동일한 소비자 노드에게 할당하고 항상 같은 순서로 메시지를 전달한다. 병렬화는 파티션을 나누는 방식으로 사용한다. 소비자는 최근에 처리한 메시지의 오프셋을 체크포인트로 남겨 진행 상황을 추적한다. 브로커는 메시지를 디스크에 유지하기 때문에 필요한 경우 뒤로 돌아가 이전 메시지를 다시 읽을 수 있다.</p></li></ul></div><h2 id="변경-데이터-캡쳐와-이벤트-소싱" tabindex="-1"><a class="header-anchor" href="#변경-데이터-캡쳐와-이벤트-소싱" aria-hidden="true">#</a> 변경 데이터 캡쳐와 이벤트 소싱</h2><h3 id="_1-변경-데이터-캡처" tabindex="-1"><a class="header-anchor" href="#_1-변경-데이터-캡처" aria-hidden="true">#</a> 1. 변경 데이터 캡처</h3><p>대부분의 중요 애플리케이션이 요구사항을 만족하기 위해서는 몇 가지 다른 기술의 조합이 필요하다. 사용자 요청에 대응하기 위한 OLTP 데이터베이스, 공통 요청의 응답 속도를 높이기 위한 캐시, 검색 질의를 다루기 위한 전문 색인, 분석용 데이터 웨어하우스가 그 예다. 이 시스템 각각은 데이터의 복제본을 가지고 있고 그 데이터는 목적에 맞게 최적화된 형태로 각각 저장된다. 관련이 있거나 동일한 데이터가 여러 다른 장소에서 나타나기 때문에 이 시스템들은 서로 동기화가 필수다.</p><p>주기적으로 데이터베이스 전체를 덤프 하는 작업이 너무 느리면 대안으로 사용하는 방법으로 이중 기록이 있다. 데이터가 변할 때마다 애플리케이션 코드에서 명시적으로 각 시스템에 기록한다. 경쟁조건의 문제와, 한쪽의 쓰기 실패의 경우로 불일치가 발생하는 현상이 발생한다.</p><p>최근 들어 변경 데이터 캡처(CDC)에 관심이 높아지고 있다. 데이터베이스에 기록하는 모든 데이터의 변화를 관찰해 다른 시스템으로 데이터를 복제할 수 있는 형태로 추출하는 과정이다. 변경 내용을 스트림으로 제공할 수 있으면 특히 유용하다. 예를 들면 데이터 베이스의 변경사항을 캡처해 검색 색인에 꾸준히 반영할 수 있다. 다른 파생 데이터 시스템도 단지 변경 스트림의 소비자로 만들 수 있다. 데이터 베이스에 쓰인 순서대로 데이터를 가져와 다른 시스템에 변경사항을 같은 순서로 적용한다. 그런 의미에서 로그 기반 메시지 브로커은 워 논 데이터 베이스에 서 변경 이벤트를 전송하기에 적합하다. 변경 데이터 캡처는 메시지 브로커과 동일하게 비동기 방식으로 동작한다. 레코드 데이터베이스 시스템은 변경 사항을 커밋하기 전에 변경사항이 소비자에게 적용될 때까지 기다리지 않는다. <img src="/blog/assets/11-cdc.ecccf946.png" alt="cdc" loading="lazy"></p><h3 id="_2-이벤트소싱" tabindex="-1"><a class="header-anchor" href="#_2-이벤트소싱" aria-hidden="true">#</a> 2. 이벤트소싱</h3><p>CDC와 이벤트 소싱은 유사한 면이 있다. 이벤트 소싱은 도메인 주도 설계 커뮤니티에서 개발한 기법이다, 이벤트 소싱은 변경 데이터 캡처와 유사하게 애플리케이션 강태 변화를 모두 변경 이벤트 로그로 저장한다. 변경 데이터 캡처와 가장 큰 차이점은 이 아이디어를 적용하는 추상화 레벨이 다르다는 점이다.</p><p>CDC 변경 이벤트 캡처에서 변경 로그는 데이터 베이스에서 저수준으로 추출한다. 그러나 이벤트 소싱에서는 애플리케이션 관점에서 사용자의 행동을 불변 이벤트로 기록한다.</p><p>이벤트 소싱을 사용하면 애플리케이션을 지속적으로 개선하기에 매우 유리하다. 어떤 상황이 발생한 후에 상황 파악이 쉽기 때문에 디버깅에 도움이 되고 애플리케이션 버그를 방지한다. 물론 이벤트 로그는 그 자체로는 그렇게 유용하지 않다. 이벤트 소싱을 사용하는 애플리케이션은 시스템에 기록한 데이터를 표현한 이벤트 로그를 가져와 사용자에게 보여주기 적당한 상태로 만들어야 한다.</p><h2 id="불변성" tabindex="-1"><a class="header-anchor" href="#불변성" aria-hidden="true">#</a> 불변성</h2><p>변경 로그를 지속성 있게 저장한다면 상태를 간단히 재생성할 수 있는 효과가 있다. 이벤트 로그를 레코드 시스템으로 생각하고 모든 변경 가능 상태를 이벤트 로그로부터 파생된 것으로 생각하면 시스템을 거치는 데이터 흐름에 관해 추론하기 쉽다. 데이터베이스에 잘못된 데이터를 기록했을 때 코드가 데이터를 덮어썼더면 복구하기가 매우 어렵다. 추가만 하는 불변 이벤트 로그를 썼다면 문제 상황의 진단과 복구가 훨씬 쉽다. 또한 불변 이벤트는 현재 상태보다 훨씬 많은 정보를 포함한다. 예를 들어 쇼핑 웹사이트에서 고객이 장바구니에 항목 하나를 넣었다가 제거했다고 하자 데이터 베이스에서는 잃어버리는 정보지만 이 이벤트 로그로는 남게 된다. 이것은 분석가에게 있어서는 중요한 정보다.</p><p>불변 이벤트 로그에서 가변 상태를 분리하면 동일한 이벤트 로그로 다른 여러 읽기 전용 뷰를 만들 수 있다. 일반적으로 데이터에 어떻게 질의하고 접근하는지 신경 쓰지 않는다면 데이터 저장은 상당히 직관적인 작업이다. 스키마 설계, 색인, 저장소 엔진이 가진 복잡성은 특정 질의와 특정 접근 형식을 지원하기 위한 결과로 발생한다. 이런 이유로 데이터를 쓰는 형식과 읽는 형식을 분리해 다양한 읽기 뷰를 허용한다면 상당한 유연성을 얻을 수 있다.</p><p>영구적으로 모든 변화의 불변 히스토리를 유지하는 것이 어느 정도까지 가능할까? 대부분은 데이터를 추가하는 작업이고 갱신이나 삭제는 드물게 발생하는 작업 부하는 불변으로 만들기 쉽다. 상대적으로 작은 데이터셋에서 매우 빈번히 갱신과 삭제를 하는 작업 부하는 불변 히스토리가 감당하기 힘들 정도로 커지거나 파편화 문제가 발생할 수 있다.</p><p>성능적인 이유 외에도 개인정보 규제 등의 관리상의 이유로 데이터를 삭제할 필요가 있는 상황일 수 있다. 이런 상황에서는 이전 데이터를 삭제해야 한다는 이벤트를 추가해서 해결되는 경우가 아니다. 실제로 원하는 바는 히스토리를 새로 쓰고 문제가 되는 데이터를 처음부터 기록하지 않았던 것처럼 하는 일이다. 이 기능을 적출(exicision)이라고 부른다.</p><p>데이터를 진짜로 삭제하는 작업은 어렵다. 많은 곳에 복제본이 남아 있기 때문이다.</p><h2 id="정리" tabindex="-1"><a class="header-anchor" href="#정리" aria-hidden="true">#</a> 정리</h2><p>지금까지 스트림이 어디에서 오는지(사용자 활동 이벤트, 센서, 데이터베이스에 쓰기) 스트림이 어떻게 전송되는지(직접 메시징, 메시지 브로커, 이벤트 로그) 살펴봤다.</p><p>사용자 활동 이벤트, 주기적인 센서 판독 값, 데이터 피드(ex. 금융시장 데이터)는 자연스럽게 스트림으로 표현할 수 있다. 암묵적으로 변경 데이터 캡처(CDC)를 통하거나 명시적으로 이벤트 소싱을 통해 변경 로그를 캡처할 수 있다.</p><p>데이터베이스를 스트림처럼 표현하면 여러 시스템을 손쉽게 통합하는 기회가 열린다. 변경 로그를 소비해 그 로그를 파생 시스템에 적용하면 색인, 캐시, 분석용 시스템과 같은 파생 데이터 시스템을 항상 최신 상태로 유지할 수 있다. 처음부터 시작해 현재까지 모든 변경 로그를 소비하면 기존 데이터의 새로운 뷰를 구성하는 것도 가능하다.</p></div><!----><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><a href="/blog/studylog/designing-data-intensive-application/ch10-batch-processing-2.html" class="nav-link prev" aria-label="일괄처리(2) 맵리듀스"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><span class="icon iconfont icon-creative" style=""></span>일괄처리(2) 맵리듀스</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">© 2022 j.stellar powered by vue-press</div><!----></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.d6b42b88.js" defer></script>
  </body>
</html>
